<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<meta property="og:title" content="Shardless Cluster: Events via Webhooks - D++ - The lightweight C++ Discord API Library">
<meta property="og:description" content="A lightweight C++ Discord API library supporting the entire Discord API, including Slash Commands, Voice/Audio, Sharding, Clustering and more!">
<meta name="description" content="Shardless Cluster: Events via Webhooks - D++ - A lightweight C++ Discord API library supporting the entire Discord API, including Slash Commands, Voice/Audio, Sharding, Clustering and more!">
<meta property="og:image" content="https://dpp.dev/DPP-Logo.png">
<meta property="og:url" content="https://dpp.dev/">
<meta property="og:type" content="website">
<meta property="twitter:title" content="Shardless Cluster: Events via Webhooks - D++ - The lightweight C++ Discord API Library">
<title>Shardless Cluster: Events via Webhooks - D++ - The lightweight C++ Discord API Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<script>
	setTimeout(function() {
		$("#main-menu").html($("#main-menu").html() + "<li><select name='vsv' onchange='window.location.href=this.options[this.selectedIndex].value'><option value='/'>master</option><option selected value='/10.1.2/'>10.1.2</option><option value='/10.1.1/'>10.1.1</option><option value='/10.1.0/'>10.1.0</option><option value='/10.0.35/'>10.0.35</option><option value='/10.0.34/'>10.0.34</option><option value='/10.0.33/'>10.0.33</option><option value='/10.0.32/'>10.0.32</option><option value='/10.0.31/'>10.0.31</option><option value='/10.0.30/'>10.0.30</option><option value='/10.0.29/'>10.0.29</option><option value='/10.0.28/'>10.0.28</option><option value='/10.0.27/'>10.0.27</option><option value='/10.0.26/'>10.0.26</option><option value='/10.0.25/'>10.0.25</option><option value='/10.0.24/'>10.0.24</option><option value='/10.0.23/'>10.0.23</option><option value='/10.0.22/'>10.0.22</option><option value='/10.0.21/'>10.0.21</option><option value='/10.0.20/'>10.0.20</option><option value='/10.0.19/'>10.0.19</option><option value='/10.0.18/'>10.0.18</option><option value='/10.0.17/'>10.0.17</option><option value='/10.0.16/'>10.0.16</option><option value='/10.0.15/'>10.0.15</option><option value='/10.0.14/'>10.0.14</option><option value='/10.0.13/'>10.0.13</option><option value='/10.0.12/'>10.0.12</option><option value='/10.0.11/'>10.0.11</option><option value='/10.0.10/'>10.0.10</option><option value='/10.0.9/'>10.0.9</option><option value='/10.0.8/'>10.0.8</option><option value='/10.0.7/'>10.0.7</option><option value='/10.0.6/'>10.0.6</option><option value='/10.0.5/'>10.0.5</option><option value='/10.0.4/'>10.0.4</option><option value='/10.0.3/'>10.0.3</option><option value='/10.0.2/'>10.0.2</option><option value='/10.0.1/'>10.0.1</option><option value='/10.0.0/'>10.0.0</option><option value='/9.0.19/'>9.0.19</option><option value='/9.0.18/'>9.0.18</option><option value='/9.0.17/'>9.0.17</option><option value='/9.0.16/'>9.0.16</option><option value='/9.0.15/'>9.0.15</option><option value='/9.0.14/'>9.0.14</option><option value='/9.0.13/'>9.0.13</option><option value='/9.0.12/'>9.0.12</option><option value='/9.0.11/'>9.0.11</option><option value='/9.0.10/'>9.0.10</option><option value='/9.0.9/'>9.0.9</option><option value='/9.0.8/'>9.0.8</option><option value='/9.0.7/'>9.0.7</option><option value='/9.0.6/'>9.0.6</option><option value='/9.0.5/'>9.0.5</option><option value='/9.0.4/'>9.0.4</option><option value='/9.0.3/'>9.0.3</option><option value='/9.0.2/'>9.0.2</option><option value='/9.0.1/'>9.0.1</option><option value='/9.0.0/'>9.0.0</option><option value='/1.0.2/'>1.0.2</option><option value='/1.0.1/'>1.0.1</option><option value='/1.0.0/'>1.0.0</option></select></li>");
	}, 500);
</script>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="DPP-Logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">D++ (DPP)
   </div>
   <div id="projectbrief">C++ Discord API Bot Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<label for="MSearchField" style="display: none">Search</label>
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('shardless.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Shardless Cluster: Events via Webhooks </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><ul><li class="level2"><a href="#autotoc_md86">What are shardless clusters?</a></li>
<li class="level2"><a href="#autotoc_md87">Creating the Discord bot</a></li>
<li class="level2"><a href="#autotoc_md88">Setting Up a reverse proxy to route to your bot</a><ul><li class="level3"><a href="#autotoc_md89">Prerequisites</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md90">Option 1: Setting Up Nginx as a Reverse Proxy</a><ul><li class="level3"><a href="#autotoc_md91">Install Nginx</a></li>
<li class="level3"><a href="#autotoc_md92">Configure Nginx</a></li>
<li class="level3"><a href="#autotoc_md93">Enable Let&#39;s Encrypt SSL</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md94">Option 2: Setting Up Apache as a Reverse Proxy</a><ul><li class="level3"><a href="#autotoc_md95">Install Apache and Modules</a></li>
<li class="level3"><a href="#autotoc_md96">Configure Apache Virtual Host</a></li>
<li class="level3"><a href="#autotoc_md97">Enable Let&#39;s Encrypt SSL</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md98">Configuring Your Public URL in the Discord Developer Portal</a><ul><li class="level3"><a href="#autotoc_md99">Steps to Configure the Interactions Endpoint URL</a></li>
<li class="level3"><a href="#autotoc_md100">Important Considerations</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md101">Further reading/Related pages</a></li>
</ul>
</ul>
</div>
<div class="textblock"><h2><a class="anchor" id="autotoc_md86"></a>
What are shardless clusters?</h2>
<p >D++ gives you two ways to handle Discord events: sharding via websockets (the default) and webhooks. Websocket shards connect to Discord, handle up to 2,500 servers each, and process events asynchronously via a REST API call. Webhooks, on the other hand, let Discord push events straight to your bot, skipping the extra API call and making responses instant. WebSockets are great for most bots, but webhooks are super efficient for massive bots, using fewer resources while handling tons of traffic. The recommended setup is to run Nginx or Apache as a reverse proxy in front of your D++ bot, ensuring security and scalability. Enabling webhooks is simple—just call a method in your bot to activate them. We’ll guide you through setting it up step by step.</p>
<p >A simple summary of this process and how it differs is shown below:</p>
<div class="dotgraph">
<iframe scrolling="no" frameborder="0" src="dot_inline_dotgraph_2.svg" width="707" height="491"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
<p >There are advantages and disadvantages to a shardless webhook bot, the main ones are:</p>
<table class="doxtable">
<tr>
<th>Advantages </th><th>Disadvantages  </th></tr>
<tr>
<td>✅ Scales without restarts, any cluster can service any request <br  />
 ✅ Can be highly scalable on demand using a load balancer <br  />
 ✅ Can be scaled and proxied by cloudflare and other free services <br  />
 ✅ No need to keep shards connected, saving resources <br  />
  </td><td>❎ Only slash commands and other components interactions can be used as entry points to the bot. Other events do not fire. <br  />
 ❎ Special consideration needs to be given to request/response flow. <br  />
 ❎ Without shards you don't have cache, so must rely entirely on resolved data and API calls. <br  />
   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md87"></a>
Creating the Discord bot</h2>
<p >The first step is actually the easiest; enabling websocket event support in D++ is as simple as one method call, and specific parameters when initialising the cluster.bot</p>
<p >Please see the example below:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;dpp/dpp.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <span class="comment">/* We must use the special constant NO_SHARDS here */</span></div>
<div class="line">    <a class="code hl_class" href="classdpp_1_1cluster.html">dpp::cluster</a> bot(<span class="stringliteral">&quot;TOKEN&quot;</span>, 0, <a class="code hl_variable" href="namespacedpp.html#a0734e9859548186679ec55f37faf57f0">dpp::NO_SHARDS</a>);</div>
<div class="line"> </div>
<div class="line">    bot.on_log(<a class="code hl_function" href="namespacedpp_1_1utility.html#a8c2cc04bb80ffd287b376d5977899277">dpp::utility::cout_logger</a>());</div>
<div class="line"> </div>
<div class="line">    bot.on_ready([&amp;](<span class="keyword">const</span> <a class="code hl_struct" href="structdpp_1_1ready__t.html">dpp::ready_t</a>&amp; ready) {</div>
<div class="line">        <span class="comment">/* Enable discord interactions endpoint on port 3000</span></div>
<div class="line"><span class="comment">         * NOTE: PUT YOUR OWN PUBLIC KEY HERE FOR THE FIRST PARAMETER.</span></div>
<div class="line"><span class="comment">         * You can find this on the same page where you entered the Discord Interaction URL.</span></div>
<div class="line"><span class="comment">         * Do not use your Discord bot token in this field!</span></div>
<div class="line"><span class="comment">         */</span></div>
<div class="line">        bot.enable_webhook_server(<span class="stringliteral">&quot;f8032a386dc1903787be887cd66d126e83eb3d481455aca509a4b8cbc526cafe&quot;</span>, <span class="stringliteral">&quot;0.0.0.0&quot;</span>, 3000);</div>
<div class="line">        <span class="comment">/* Register a command */</span></div>
<div class="line">        bot.global_command_create(<a class="code hl_class" href="classdpp_1_1slashcommand.html">dpp::slashcommand</a>(<span class="stringliteral">&quot;hello&quot;</span>, <span class="stringliteral">&quot;Greets you&quot;</span>, bot.me.id));</div>
<div class="line"> </div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    bot.on_slashcommand([&amp;](<span class="keyword">const</span> <a class="code hl_struct" href="structdpp_1_1slashcommand__t.html">dpp::slashcommand_t</a>&amp; event) {</div>
<div class="line">        <span class="keyword">event</span>.reply(<span class="stringliteral">&quot;hello to you too&quot;</span>);</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    bot.start(<a class="code hl_enumvalue" href="namespacedpp.html#af447e04d0490cd4a9de085e4a758faa4a155f7db65696b4c09b5fcc41787e4726">dpp::st_wait</a>);</div>
<div class="line">}</div>
<div class="ttc" id="aclassdpp_1_1cluster_html"><div class="ttname"><a href="classdpp_1_1cluster.html">dpp::cluster</a></div><div class="ttdoc">The cluster class represents a group of shards and a command queue for sending and receiving commands...</div><div class="ttdef"><b>Definition:</b> cluster.h:89</div></div>
<div class="ttc" id="aclassdpp_1_1slashcommand_html"><div class="ttname"><a href="classdpp_1_1slashcommand.html">dpp::slashcommand</a></div><div class="ttdoc">Represents an application command, created by your bot either globally, or on a guild.</div><div class="ttdef"><b>Definition:</b> appcommand.h:1397</div></div>
<div class="ttc" id="anamespacedpp_1_1utility_html_a8c2cc04bb80ffd287b376d5977899277"><div class="ttname"><a href="namespacedpp_1_1utility.html#a8c2cc04bb80ffd287b376d5977899277">dpp::utility::cout_logger</a></div><div class="ttdeci">std::function&lt; void(const dpp::log_t &amp;)&gt; DPP_EXPORT cout_logger()</div><div class="ttdoc">Get a default logger that outputs to std::cout. e.g.</div></div>
<div class="ttc" id="anamespacedpp_html_a0734e9859548186679ec55f37faf57f0"><div class="ttname"><a href="namespacedpp.html#a0734e9859548186679ec55f37faf57f0">dpp::NO_SHARDS</a></div><div class="ttdeci">constexpr uint32_t NO_SHARDS</div><div class="ttdoc">Pass this value into the constructor of dpp::cluster for the shard count to create a cluster with no ...</div><div class="ttdef"><b>Definition:</b> cluster.h:61</div></div>
<div class="ttc" id="anamespacedpp_html_af447e04d0490cd4a9de085e4a758faa4a155f7db65696b4c09b5fcc41787e4726"><div class="ttname"><a href="namespacedpp.html#af447e04d0490cd4a9de085e4a758faa4a155f7db65696b4c09b5fcc41787e4726">dpp::st_wait</a></div><div class="ttdeci">@ st_wait</div><div class="ttdoc">Wait forever on a condition variable. The cluster will spawn threads for each shard and start() will ...</div><div class="ttdef"><b>Definition:</b> cluster.h:72</div></div>
<div class="ttc" id="astructdpp_1_1ready__t_html"><div class="ttname"><a href="structdpp_1_1ready__t.html">dpp::ready_t</a></div><div class="ttdoc">Session ready.</div><div class="ttdef"><b>Definition:</b> dispatcher.h:1025</div></div>
<div class="ttc" id="astructdpp_1_1slashcommand__t_html"><div class="ttname"><a href="structdpp_1_1slashcommand__t.html">dpp::slashcommand_t</a></div><div class="ttdoc">User has issued a slash command.</div><div class="ttdef"><b>Definition:</b> dispatcher.h:759</div></div>
</div><!-- fragment --><p >Note that you can get the public key from your application settings in the Discord Developer Portal. It is <b>not</b> your bot token!</p>
<dl class="section warning"><dt>Warning</dt><dd>It is important that if your bot works via webhook events, you do not delay in responding. You must respond as fast as possible to the request, with an <code>event.reply()</code>. You can always acknowledge the response with <code>event.thinking()</code> and edit the interaction later, but this must be done in a separate flow, NOT within the slashcommand event. This is because when you are in the event handler you are directly building a HTTP response that is directly sent back to Discord in an established HTTP request. You can follow up with other API calls if you wish later on. Each request is placed into D++'s thread pool, so you don't have to worry too much about blocking for a little while but remember users expect snappy responses and Discord have a 3 second hard limit on replies!</dd></dl>
<h2><a class="anchor" id="autotoc_md88"></a>
Setting Up a reverse proxy to route to your bot</h2>
<p >Next, you should set up a reverse proxy using <b>Nginx</b> or <b>Apache</b> to forward requests from a public-facing HTTPS endpoint to a Discord bot listening on <code>localhost:3000</code>. Discord mandates that all webhook endpoints for interactions must be HTTPS with a valid non self-signed certificate.</p>
<p >We will use a free <b>Let's Encrypt</b> certificate for SSL on the proxy, while allowing the bot itself to run using plaintext or self-signed SSL.</p>
<h3><a class="anchor" id="autotoc_md89"></a>
Prerequisites</h3>
<ul>
<li>A <b>Linux server</b></li>
<li><b>Nginx</b> or <b>Apache</b> installed</li>
<li>A domain name (<code>example.com</code>) pointing to your server</li>
<li>A Discord bot running on <b>port 3000</b></li>
<li><code>certbot</code> installed for Let's Encrypt SSL</li>
</ul>
<h2><a class="anchor" id="autotoc_md90"></a>
Option 1: Setting Up Nginx as a Reverse Proxy</h2>
<h3><a class="anchor" id="autotoc_md91"></a>
Install Nginx</h3>
<div class="fragment"><div class="line">sudo apt update</div>
<div class="line">sudo apt install nginx -y</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md92"></a>
Configure Nginx</h3>
<p >Create a new configuration file: </p><div class="fragment"><div class="line">sudo nano /etc/nginx/sites-available/discord_bot</div>
</div><!-- fragment --><p >Paste the following for <b>plaintext (http)</b> bot communication: </p><div class="fragment"><div class="line">server {</div>
<div class="line">    listen 80;</div>
<div class="line">    server_name example.com;</div>
<div class="line"> </div>
<div class="line">    location / {</div>
<div class="line">        proxy_pass http://localhost:3000;</div>
<div class="line">        proxy_set_header Host $host;</div>
<div class="line">        proxy_set_header X-Real-IP $remote_addr;</div>
<div class="line">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p >If the bot uses <b>self-signed SSL</b>, modify <code>proxy_pass</code>: </p><div class="fragment"><div class="line">location / {</div>
<div class="line">    proxy_pass https://localhost:3000;</div>
<div class="line">    proxy_ssl_verify off;</div>
<div class="line">}</div>
</div><!-- fragment --><p >Enable the site and restart Nginx: </p><div class="fragment"><div class="line">sudo ln -s /etc/nginx/sites-available/discord_bot /etc/nginx/sites-enabled/</div>
<div class="line">sudo systemctl restart nginx</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md93"></a>
Enable Let's Encrypt SSL</h3>
<div class="fragment"><div class="line">sudo certbot --nginx -d example.com</div>
</div><!-- fragment --><p> Certbot will automatically update the Nginx configuration for HTTPS.</p>
<h2><a class="anchor" id="autotoc_md94"></a>
Option 2: Setting Up Apache as a Reverse Proxy</h2>
<h3><a class="anchor" id="autotoc_md95"></a>
Install Apache and Modules</h3>
<div class="fragment"><div class="line">sudo apt update</div>
<div class="line">sudo apt install apache2 -y</div>
<div class="line">sudo a2enmod proxy proxy_http ssl</div>
<div class="line">sudo systemctl restart apache2</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md96"></a>
Configure Apache Virtual Host</h3>
<div class="fragment"><div class="line">sudo nano /etc/apache2/sites-available/discord_bot.conf</div>
</div><!-- fragment --><p >Paste the following for <b>plaintext (http)</b> bot communication: </p><div class="fragment"><div class="line">&lt;VirtualHost *:80&gt;</div>
<div class="line">    ServerName example.com</div>
<div class="line"> </div>
<div class="line">    ProxyPass &quot;/&quot; &quot;http://localhost:3000/&quot;</div>
<div class="line">    ProxyPassReverse &quot;/&quot; &quot;http://localhost:3000/&quot;</div>
<div class="line">&lt;/VirtualHost&gt;</div>
</div><!-- fragment --><p >If the bot uses <b>self-signed SSL</b>, update it as follows: </p><div class="fragment"><div class="line">&lt;VirtualHost *:80&gt;</div>
<div class="line">    ServerName example.com</div>
<div class="line"> </div>
<div class="line">    ProxyPass &quot;/&quot; &quot;https://localhost:3000/&quot;</div>
<div class="line">    ProxyPassReverse &quot;/&quot; &quot;https://localhost:3000/&quot;</div>
<div class="line">    SSLProxyEngine on</div>
<div class="line">    SSLProxyVerify none</div>
<div class="line">    SSLProxyCheckPeerCN off</div>
<div class="line">    SSLProxyCheckPeerName off</div>
<div class="line">&lt;/VirtualHost&gt;</div>
</div><!-- fragment --><p >Enable the site and restart Apache: </p><div class="fragment"><div class="line">sudo a2ensite discord_bot.conf</div>
<div class="line">sudo systemctl restart apache2</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md97"></a>
Enable Let's Encrypt SSL</h3>
<div class="fragment"><div class="line">sudo certbot --apache -d example.com</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md98"></a>
Configuring Your Public URL in the Discord Developer Portal</h2>
<p >Finally, to enable your Discord bot to receive interactions such as slash commands, you need to update Discord with the URL you set up above.</p>
<p >This involves configuring the <b>Interactions Endpoint URL</b> in your Discord application's settings.</p>
<h3><a class="anchor" id="autotoc_md99"></a>
Steps to Configure the Interactions Endpoint URL</h3>
<ol type="1">
<li><b>Access the Discord Developer Portal</b>:<ul>
<li>Navigate to the <a href="https://discord.com/developers/applications">Discord Developer Portal</a>.</li>
<li>Log in with your Discord account.</li>
</ul>
</li>
<li><b>Select Your Application</b>:<ul>
<li>In the <b>Applications</b> section, click on your bot's application to open its settings.</li>
</ul>
</li>
<li><b>Navigate to the "General Information" Tab</b>:<ul>
<li>On the left sidebar, select <b>General Information</b>.</li>
</ul>
</li>
<li><b>Set the Interactions Endpoint URL</b>:<ul>
<li>Locate the <b>Interactions Endpoint URL</b> field.</li>
<li>Enter your public URL (e.g., <code><a href="https://example.com/interactions">https://example.com/interactions</a></code>).</li>
<li>Ensure this URL points to the endpoint you've set up to handle Discord's interaction payloads.</li>
<li>Take note of the <b>public key</b> for use in your bot</li>
</ul>
</li>
<li><b>Save Changes</b>:<ul>
<li>Scroll to the bottom of the page and click <b>Save Changes</b>.</li>
</ul>
</li>
</ol>
<div class="image">
<img src="webhook-app.png" alt=""/>
</div>
<h3><a class="anchor" id="autotoc_md100"></a>
Important Considerations</h3>
<ul>
<li><b>Public Accessibility</b>: Ensure that the URL you provide is publicly accessible over the internet. Discord needs to reach this endpoint to send interaction events.</li>
<li><b>SSL/TLS Encryption</b>: As outlined above in the section on setting up your reverse proxy, the URL must use HTTPS, meaning you need a valid SSL/TLS certificate for your domain. If you followed the guide properly, this should be working.</li>
<li><b>Endpoint Validation</b>: Upon setting the Interactions Endpoint URL, Discord will send a <code>PING</code> request to verify the endpoint. D++ will ensure your bot replies appropriately.</li>
</ul>
<p >You can find even more information on Discord's official documentation on <a href="https://discord.com/developers/docs/getting-started#setting-up-an-interaction-endpoint">Setting Up an Interaction Endpoint</a>.</p>
<h2><a class="anchor" id="autotoc_md101"></a>
Further reading/Related pages</h2>
<ul>
<li><a class="el" href="classdpp_1_1cluster.html#a954c7dce3dab2786d482890c6c9ad009" title="Create a webhook server for receiving interactions.">dpp::cluster::enable_webhook_server</a></li>
<li><a class="el" href="structdpp_1_1discord__webhook__server.html" title="Creates a HTTP server which listens for incoming Discord interactions, and if verified as valid,...">dpp::discord_webhook_server</a></li>
<li><a class="el" href="structdpp_1_1http__server.html" title="Creates a simple HTTP server which listens on a TCP port for a plaintext or SSL incoming request,...">dpp::http_server</a></li>
<li><a class="el" href="classdpp_1_1http__server__request.html">dpp::http_server_request</a></li>
<li><a class="el" href="structdpp_1_1socket__listener.html" title="Listens on a TCP socket for new connections, and whenever a new connection is received,...">dpp::socket_listener</a> </li>
</ul>
</div></div><!-- contents --><script src="https://giscus.app/client.js" data-repo="brainboxdotcc/dpp-comments" data-repo-id="R_kgDOHOY4xg" data-category="General" data-category-id="DIC_kwDOHOY4xs4CRYtj" data-mapping="pathname" data-strict="1" data-reactions-enabled="1" data-emit-metadata="1" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async></script>
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="nav-path" class="navpath">
	<ul>
		<li class="navelem"><a class="el" href="advanced-reference.html">Advanced Reference</a></li>
	</ul>
</div>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QTH6YHBNG5"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/base16/dracula.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100&display=swap" rel="stylesheet">
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-QTH6YHBNG5');
	$(function() {
		$(".fragment").each(function(i,node) {
			var $node = $(node);
			$node.children(":not(.line)").remove();
			$node.html("<pre><code class='stan'>" + $node.text().trim().replaceAll("<", "&lt;").replaceAll(">", "&gt;") + "</code></pre>");
			hljs.configure({
				languages: ['cpp','diff','cmake','bash','sh','text'],
				ignoreUnescapedHTML: true
			});
			hljs.highlightAll(node);
			hljs.initLineNumbersOnLoad(node);  
		});
		$(".fragment").parent().parent().parent().parent().removeClass('doxtable');
	});
</script>
<style>
	.hljs-ln-code, code, code a, pre.fragment, div.fragment, div.fragment .line, div.fragment span, div.fragment .line a, div.fragment .line span {
		font-family: 'JetBrains Mono', monospace !important;
		font-size: 0.8rem !important;
	}
	.fragment {
		padding: 0 !important;
		margin-top: 0 !important;
		margin-bottom: 0 !important;
		background: none !important;
		border: 0 !important;
	}
	.hljs-ln-n::before {
		content: attr(data-line-number);
		padding-right: 1rem !important;
	}
	table.markdownTable code td, table.markdownTable code th, table.fieldtable code td, table.fieldtable code th, table.doxtable code td, table.doxtable code th {
		border: 0 !important;
		padding: 0 !important;
	}	
</style>
<div style="z-index: -9999; position: absolute; right: 0; top: 0; font-size: 0.0001rem;color:transparent;background:none">
	<!-- For crawlability of past versions -->
	<a href='/10.1.2/'>D++ Library version 10.1.2</a><a href='/10.1.1/'>D++ Library version 10.1.1</a><a href='/10.1.0/'>D++ Library version 10.1.0</a><a href='/10.0.35/'>D++ Library version 10.0.35</a><a href='/10.0.34/'>D++ Library version 10.0.34</a><a href='/10.0.33/'>D++ Library version 10.0.33</a><a href='/10.0.32/'>D++ Library version 10.0.32</a><a href='/10.0.31/'>D++ Library version 10.0.31</a><a href='/10.0.30/'>D++ Library version 10.0.30</a><a href='/10.0.29/'>D++ Library version 10.0.29</a><a href='/10.0.28/'>D++ Library version 10.0.28</a><a href='/10.0.27/'>D++ Library version 10.0.27</a><a href='/10.0.26/'>D++ Library version 10.0.26</a><a href='/10.0.25/'>D++ Library version 10.0.25</a><a href='/10.0.24/'>D++ Library version 10.0.24</a><a href='/10.0.23/'>D++ Library version 10.0.23</a><a href='/10.0.22/'>D++ Library version 10.0.22</a><a href='/10.0.21/'>D++ Library version 10.0.21</a><a href='/10.0.20/'>D++ Library version 10.0.20</a><a href='/10.0.19/'>D++ Library version 10.0.19</a><a href='/10.0.18/'>D++ Library version 10.0.18</a><a href='/10.0.17/'>D++ Library version 10.0.17</a><a href='/10.0.16/'>D++ Library version 10.0.16</a><a href='/10.0.15/'>D++ Library version 10.0.15</a><a href='/10.0.14/'>D++ Library version 10.0.14</a><a href='/10.0.13/'>D++ Library version 10.0.13</a><a href='/10.0.12/'>D++ Library version 10.0.12</a><a href='/10.0.11/'>D++ Library version 10.0.11</a><a href='/10.0.10/'>D++ Library version 10.0.10</a><a href='/10.0.9/'>D++ Library version 10.0.9</a><a href='/10.0.8/'>D++ Library version 10.0.8</a><a href='/10.0.7/'>D++ Library version 10.0.7</a><a href='/10.0.6/'>D++ Library version 10.0.6</a><a href='/10.0.5/'>D++ Library version 10.0.5</a><a href='/10.0.4/'>D++ Library version 10.0.4</a><a href='/10.0.3/'>D++ Library version 10.0.3</a><a href='/10.0.2/'>D++ Library version 10.0.2</a><a href='/10.0.1/'>D++ Library version 10.0.1</a><a href='/10.0.0/'>D++ Library version 10.0.0</a><a href='/9.0.19/'>D++ Library version 9.0.19</a><a href='/9.0.18/'>D++ Library version 9.0.18</a><a href='/9.0.17/'>D++ Library version 9.0.17</a><a href='/9.0.16/'>D++ Library version 9.0.16</a><a href='/9.0.15/'>D++ Library version 9.0.15</a><a href='/9.0.14/'>D++ Library version 9.0.14</a><a href='/9.0.13/'>D++ Library version 9.0.13</a><a href='/9.0.12/'>D++ Library version 9.0.12</a><a href='/9.0.11/'>D++ Library version 9.0.11</a><a href='/9.0.10/'>D++ Library version 9.0.10</a><a href='/9.0.9/'>D++ Library version 9.0.9</a><a href='/9.0.8/'>D++ Library version 9.0.8</a><a href='/9.0.7/'>D++ Library version 9.0.7</a><a href='/9.0.6/'>D++ Library version 9.0.6</a><a href='/9.0.5/'>D++ Library version 9.0.5</a><a href='/9.0.4/'>D++ Library version 9.0.4</a><a href='/9.0.3/'>D++ Library version 9.0.3</a><a href='/9.0.2/'>D++ Library version 9.0.2</a><a href='/9.0.1/'>D++ Library version 9.0.1</a><a href='/9.0.0/'>D++ Library version 9.0.0</a><a href='/1.0.2/'>D++ Library version 1.0.2</a><a href='/1.0.1/'>D++ Library version 1.0.1</a><a href='/1.0.0/'>D++ Library version 1.0.0</a>
</div>
</body>
</html>
