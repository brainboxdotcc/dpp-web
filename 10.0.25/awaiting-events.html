<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<meta property="og:title" content="Waiting for events - D++ - The lightweight C++ Discord API Library">
<meta property="og:description" content="A lightweight C++ Discord API library supporting the entire Discord API, including Slash Commands, Voice/Audio, Sharding, Clustering and more!">
<meta name="description" content="Waiting for events - D++ - A lightweight C++ Discord API library supporting the entire Discord API, including Slash Commands, Voice/Audio, Sharding, Clustering and more!">
<meta property="og:image" content="https://dpp.dev/DPP-Logo.png">
<meta property="og:url" content="https://dpp.dev/">
<meta property="og:type" content="website">
<meta property="twitter:title" content="Waiting for events - D++ - The lightweight C++ Discord API Library">
<title>Waiting for events - D++ - The lightweight C++ Discord API Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<script>
	setTimeout(function() {
		$("#main-menu").html($("#main-menu").html() + "<li><select name='vsv' onchange='window.location.href=this.options[this.selectedIndex].value'><option value='/'>master</option><option value='/10.0.28/'>10.0.28</option><option value='/10.0.27/'>10.0.27</option><option value='/10.0.26/'>10.0.26</option><option selected value='/10.0.25/'>10.0.25</option><option value='/10.0.24/'>10.0.24</option><option value='/10.0.23/'>10.0.23</option><option value='/10.0.22/'>10.0.22</option><option value='/10.0.21/'>10.0.21</option><option value='/10.0.20/'>10.0.20</option><option value='/10.0.19/'>10.0.19</option><option value='/10.0.18/'>10.0.18</option><option value='/10.0.17/'>10.0.17</option><option value='/10.0.16/'>10.0.16</option><option value='/10.0.15/'>10.0.15</option><option value='/10.0.14/'>10.0.14</option><option value='/10.0.13/'>10.0.13</option><option value='/10.0.12/'>10.0.12</option><option value='/10.0.11/'>10.0.11</option><option value='/10.0.10/'>10.0.10</option><option value='/10.0.9/'>10.0.9</option><option value='/10.0.8/'>10.0.8</option><option value='/10.0.7/'>10.0.7</option><option value='/10.0.6/'>10.0.6</option><option value='/10.0.5/'>10.0.5</option><option value='/10.0.4/'>10.0.4</option><option value='/10.0.3/'>10.0.3</option><option value='/10.0.2/'>10.0.2</option><option value='/10.0.1/'>10.0.1</option><option value='/10.0.0/'>10.0.0</option><option value='/9.0.19/'>9.0.19</option><option value='/9.0.18/'>9.0.18</option><option value='/9.0.17/'>9.0.17</option><option value='/9.0.16/'>9.0.16</option><option value='/9.0.15/'>9.0.15</option><option value='/9.0.14/'>9.0.14</option><option value='/9.0.13/'>9.0.13</option><option value='/9.0.12/'>9.0.12</option><option value='/9.0.11/'>9.0.11</option><option value='/9.0.10/'>9.0.10</option><option value='/9.0.9/'>9.0.9</option><option value='/9.0.8/'>9.0.8</option><option value='/9.0.7/'>9.0.7</option><option value='/9.0.6/'>9.0.6</option><option value='/9.0.5/'>9.0.5</option><option value='/9.0.4/'>9.0.4</option><option value='/9.0.3/'>9.0.3</option><option value='/9.0.2/'>9.0.2</option><option value='/9.0.1/'>9.0.1</option><option value='/9.0.0/'>9.0.0</option><option value='/1.0.2/'>1.0.2</option><option value='/1.0.1/'>1.0.1</option><option value='/1.0.0/'>1.0.0</option></select></li>");
	}, 500);
</script>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="DPP-Logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">D++ (DPP)
   </div>
   <div id="projectbrief">C++ Discord API Bot Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<label for="MSearchField" style="display: none">Search</label>
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('awaiting-events.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Waiting for events </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><dl class="section warning"><dt>Warning</dt><dd>D++ Coroutines are a very new feature and are currently only supported by D++ on g++ 11, clang/LLVM 14, and MSVC 19.37 or above. Additionally, D++ must be built with the CMake option DPP_CORO, and your program must both define the macro DPP_CORO and use C++20 or above. The feature is experimental and may have bugs or even crashes, please report any to <a href="https://github.com/brainboxdotcc/DPP/issues">GitHub Issues</a> or to our <a href="https://discord.gg/dpp">Discord Server</a>. </dd></dl>
</p>
<p >D++ makes it possible to await events: simple use <code>co_await</code> on any of the event routers, such as <a class="el" href="classdpp_1_1cluster.html#a1a632b3c2c8d3ff3a47372ffa770acf5">on_message_create</a>, and your coroutine will be suspended until the next event fired by this event router. You can also <code>co_await</code> the return of an event router's <a class="el" href="classdpp_1_1event__router__t.html#a16c2527f66c8b74e5c0678ace4fa549e">when()</a> method while passing it a predicate function object, it will only resume your coroutine when the predicate returns true. Be aware that your coroutine is attached to the event router only when you call <code>co_await</code> and not before, and will be detached as it is resumed.</p>
<dl class="section note"><dt>Note</dt><dd>When the event router resumes your coroutine, it will give you <b>a reference to the event object</b>. This will likely mean it will be destroyed after your next co_await, make sure to save it in a local variable if you need it for longer.</dd></dl>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;dpp/dpp.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <a class="code hl_class" href="classdpp_1_1cluster.html">dpp::cluster</a> bot(<span class="stringliteral">&quot;token&quot;</span>, <a class="code hl_enumvalue" href="namespacedpp.html#a0042c0fc8164da4239b977d5be8e2ef5a561a52b3c6883808735c41891351c68f">dpp::i_default_intents</a> | <a class="code hl_enumvalue" href="namespacedpp.html#a0042c0fc8164da4239b977d5be8e2ef5a27810e825c157ded5d59df6dede23414">dpp::i_message_content</a>);</div>
<div class="line"> </div>
<div class="line">    bot.on_log(<a class="code hl_function" href="namespacedpp_1_1utility.html#a8c2cc04bb80ffd287b376d5977899277">dpp::utility::cout_logger</a>());</div>
<div class="line"> </div>
<div class="line">    bot.on_slashcommand([](<a class="code hl_struct" href="structdpp_1_1slashcommand__t.html">dpp::slashcommand_t</a> event) -&gt; <a class="code hl_class" href="structdpp_1_1job.html">dpp::job</a> {</div>
<div class="line">        <span class="keywordflow">if</span> (event.<a class="code hl_variable" href="structdpp_1_1interaction__create__t.html#a8b0c69c156a1e532507a918c13414f14">command</a>.<a class="code hl_function" href="classdpp_1_1interaction.html#aabbb8d58d708128098516ed443d5c140">get_command_name</a>() == <span class="stringliteral">&quot;test&quot;</span>) {</div>
<div class="line">            <span class="comment">// Make a message and add a button with its custom ID set to the command interaction&#39;s ID so we can identify it</span></div>
<div class="line">            dpp::message m{<span class="stringliteral">&quot;Test&quot;</span>};</div>
<div class="line">            std::string <span class="keywordtype">id</span>{event.command.id.str()};</div>
<div class="line">            <a class="code hl_variable" href="namespacedpp_1_1unicode__emoji.html#a24ac871c89f4e1779cfeda23077faeac">m</a>.add_component(</div>
<div class="line">                <a class="code hl_class" href="classdpp_1_1component.html">dpp::component</a>{}.<a class="code hl_function" href="classdpp_1_1component.html#a3707437be16cc7dfd5edcf321f8e842d">add_component</a>(<a class="code hl_class" href="classdpp_1_1component.html">dpp::component</a>{}.<a class="code hl_function" href="classdpp_1_1component.html#a281e39d6b8c65b1fd301d195a835e703">set_type</a>(<a class="code hl_enumvalue" href="namespacedpp.html#afce43206033521b990e3a72bb87481b7a98228836af5d0c180cfc05eb1f0bfde9">dpp::cot_button</a>).<a class="code hl_function" href="classdpp_1_1component.html#a23955055e9d77383fca2a5738ae3a30f">set_label</a>(<span class="stringliteral">&quot;Click me!&quot;</span>).<a class="code hl_function" href="classdpp_1_1component.html#a1bf3798669b015711df5d2621ff92d73">set_id</a>(<span class="keywordtype">id</span>))</div>
<div class="line">            );</div>
<div class="line">            <span class="keyword">co_await</span> event.<a class="code hl_function" href="structdpp_1_1interaction__create__t.html#aef38626cd24d2212b00ab866509b4d59">co_reply</a>(m);</div>
<div class="line"> </div>
<div class="line">            <a class="code hl_struct" href="structdpp_1_1button__click__t.html">dpp::button_click_t</a> click_event = <span class="keyword">co_await</span> event.<a class="code hl_variable" href="structdpp_1_1event__dispatch__t.html#a357873be4dd30eef7928ae5f7c13e7db">from</a>-&gt;<a class="code hl_variable" href="classdpp_1_1discord__client.html#afed78d2e1b09e006ede8b4690895a866">creator</a>-&gt;<a class="code hl_variable" href="classdpp_1_1cluster.html#af9409347218d270da0aeb22b0a27c38d">on_button_click</a>.when(</div>
<div class="line">                <span class="comment">// Note!! Due to a bug in g++11 and g++12, id must be captured as a reference here or the compiler will destroy it twice. This is fixed in g++13</span></div>
<div class="line">                [&amp;<span class="keywordtype">id</span>] (<a class="code hl_struct" href="structdpp_1_1button__click__t.html">dpp::button_click_t</a> <span class="keyword">const</span> &amp;b) {</div>
<div class="line">                    return b.custom_id == id;</div>
<div class="line">                }</div>
<div class="line">            );</div>
<div class="line">            <span class="comment">// Acknowledge the click with an empty message and edit the original response, removing the button</span></div>
<div class="line">            click_event.reply(<a class="code hl_enumvalue" href="namespacedpp.html#a83479ddaa45166def7719d5511b09d02a8f370bb2d780a47b45846bf92b099312">dpp::ir_deferred_update_message</a>, <a class="code hl_struct" href="structdpp_1_1message.html">dpp::message</a>{});</div>
<div class="line">            event.<a class="code hl_function" href="structdpp_1_1interaction__create__t.html#a10553ebb8d10ba58595f825e0a89eb1b">edit_original_response</a>(<a class="code hl_struct" href="structdpp_1_1message.html">dpp::message</a>{<span class="stringliteral">&quot;You clicked the button!&quot;</span>});</div>
<div class="line">        }</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    bot.on_ready([&amp;bot](<span class="keyword">const</span> <a class="code hl_struct" href="structdpp_1_1ready__t.html">dpp::ready_t</a> &amp; event) {</div>
<div class="line">        <span class="keywordflow">if</span> (dpp::run_once&lt;struct register_bot_commands&gt;()) {</div>
<div class="line">            <a class="code hl_class" href="classdpp_1_1slashcommand.html">dpp::slashcommand</a> command{<span class="stringliteral">&quot;test&quot;</span>, <span class="stringliteral">&quot;Test awaiting for an event&quot;</span>, bot.me.<a class="code hl_variable" href="classdpp_1_1managed.html#a40bf0c6cc03909910512808fa6caa112">id</a>};</div>
<div class="line"> </div>
<div class="line">            bot.global_command_create(command);</div>
<div class="line">        }</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    bot.start(<a class="code hl_enumvalue" href="namespacedpp.html#af447e04d0490cd4a9de085e4a758faa4a155f7db65696b4c09b5fcc41787e4726">dpp::st_wait</a>);</div>
<div class="line">}</div>
<div class="ttc" id="aclassdpp_1_1cluster_html"><div class="ttname"><a href="classdpp_1_1cluster.html">dpp::cluster</a></div><div class="ttdoc">The cluster class represents a group of shards and a command queue for sending and receiving commands...</div><div class="ttdef"><b>Definition:</b> cluster.h:82</div></div>
<div class="ttc" id="aclassdpp_1_1cluster_html_af9409347218d270da0aeb22b0a27c38d"><div class="ttname"><a href="classdpp_1_1cluster.html#af9409347218d270da0aeb22b0a27c38d">dpp::cluster::on_button_click</a></div><div class="ttdeci">event_router_t&lt; button_click_t &gt; on_button_click</div><div class="ttdoc">Called when a button is clicked attached to a message. Button clicks are triggered by discord when bu...</div><div class="ttdef"><b>Definition:</b> cluster.h:508</div></div>
<div class="ttc" id="aclassdpp_1_1component_html"><div class="ttname"><a href="classdpp_1_1component.html">dpp::component</a></div><div class="ttdoc">Represents the component object. A component is a clickable button or drop down list within a discord...</div><div class="ttdef"><b>Definition:</b> message.h:221</div></div>
<div class="ttc" id="aclassdpp_1_1component_html_a1bf3798669b015711df5d2621ff92d73"><div class="ttname"><a href="classdpp_1_1component.html#a1bf3798669b015711df5d2621ff92d73">dpp::component::set_id</a></div><div class="ttdeci">component &amp; set_id(const std::string &amp;id)</div><div class="ttdoc">Set the id of the component. For action rows, this field is ignored. Setting the id will auto-set the...</div></div>
<div class="ttc" id="aclassdpp_1_1component_html_a23955055e9d77383fca2a5738ae3a30f"><div class="ttname"><a href="classdpp_1_1component.html#a23955055e9d77383fca2a5738ae3a30f">dpp::component::set_label</a></div><div class="ttdeci">component &amp; set_label(const std::string &amp;label)</div><div class="ttdoc">Set the label of the component, e.g. button text. For action rows, this field is ignored....</div></div>
<div class="ttc" id="aclassdpp_1_1component_html_a281e39d6b8c65b1fd301d195a835e703"><div class="ttname"><a href="classdpp_1_1component.html#a281e39d6b8c65b1fd301d195a835e703">dpp::component::set_type</a></div><div class="ttdeci">component &amp; set_type(component_type ct)</div><div class="ttdoc">Set the type of the component. Button components (type dpp::cot_button) should always be contained wi...</div></div>
<div class="ttc" id="aclassdpp_1_1component_html_a3707437be16cc7dfd5edcf321f8e842d"><div class="ttname"><a href="classdpp_1_1component.html#a3707437be16cc7dfd5edcf321f8e842d">dpp::component::add_component</a></div><div class="ttdeci">component &amp; add_component(const component &amp;c)</div><div class="ttdoc">Add a sub-component, only valid for action rows. Adding subcomponents to a component will automatical...</div></div>
<div class="ttc" id="aclassdpp_1_1discord__client_html_afed78d2e1b09e006ede8b4690895a866"><div class="ttname"><a href="classdpp_1_1discord__client.html#afed78d2e1b09e006ede8b4690895a866">dpp::discord_client::creator</a></div><div class="ttdeci">class dpp::cluster * creator</div><div class="ttdoc">Owning cluster.</div><div class="ttdef"><b>Definition:</b> discordclient.h:277</div></div>
<div class="ttc" id="aclassdpp_1_1interaction_html_aabbb8d58d708128098516ed443d5c140"><div class="ttname"><a href="classdpp_1_1interaction.html#aabbb8d58d708128098516ed443d5c140">dpp::interaction::get_command_name</a></div><div class="ttdeci">std::string get_command_name() const</div><div class="ttdoc">Get the command name for a command interaction.</div></div>
<div class="ttc" id="aclassdpp_1_1managed_html_a40bf0c6cc03909910512808fa6caa112"><div class="ttname"><a href="classdpp_1_1managed.html#a40bf0c6cc03909910512808fa6caa112">dpp::managed::id</a></div><div class="ttdeci">snowflake id</div><div class="ttdoc">Unique ID of object set by Discord. This value contains a timestamp, worker ID, internal server ID,...</div><div class="ttdef"><b>Definition:</b> managed.h:39</div></div>
<div class="ttc" id="aclassdpp_1_1slashcommand_html"><div class="ttname"><a href="classdpp_1_1slashcommand.html">dpp::slashcommand</a></div><div class="ttdoc">Represents an application command, created by your bot either globally, or on a guild.</div><div class="ttdef"><b>Definition:</b> appcommand.h:999</div></div>
<div class="ttc" id="anamespacedpp_1_1unicode__emoji_html_a24ac871c89f4e1779cfeda23077faeac"><div class="ttname"><a href="namespacedpp_1_1unicode__emoji.html#a24ac871c89f4e1779cfeda23077faeac">dpp::unicode_emoji::m</a></div><div class="ttdeci">constexpr const char m[]</div><div class="ttdef"><b>Definition:</b> unicode_emoji.h:5117</div></div>
<div class="ttc" id="anamespacedpp_1_1utility_html_a8c2cc04bb80ffd287b376d5977899277"><div class="ttname"><a href="namespacedpp_1_1utility.html#a8c2cc04bb80ffd287b376d5977899277">dpp::utility::cout_logger</a></div><div class="ttdeci">std::function&lt; void(const dpp::log_t &amp;)&gt; DPP_EXPORT cout_logger()</div><div class="ttdoc">Get a default logger that outputs to std::cout. e.g.</div></div>
<div class="ttc" id="anamespacedpp_html_a0042c0fc8164da4239b977d5be8e2ef5a27810e825c157ded5d59df6dede23414"><div class="ttname"><a href="namespacedpp.html#a0042c0fc8164da4239b977d5be8e2ef5a27810e825c157ded5d59df6dede23414">dpp::i_message_content</a></div><div class="ttdeci">@ i_message_content</div><div class="ttdoc">Intent for receipt of message content.</div><div class="ttdef"><b>Definition:</b> intents.h:65</div></div>
<div class="ttc" id="anamespacedpp_html_a0042c0fc8164da4239b977d5be8e2ef5a561a52b3c6883808735c41891351c68f"><div class="ttname"><a href="namespacedpp.html#a0042c0fc8164da4239b977d5be8e2ef5a561a52b3c6883808735c41891351c68f">dpp::i_default_intents</a></div><div class="ttdeci">@ i_default_intents</div><div class="ttdoc">Default D++ intents (all non-privileged intents)</div><div class="ttdef"><b>Definition:</b> intents.h:73</div></div>
<div class="ttc" id="anamespacedpp_html_a83479ddaa45166def7719d5511b09d02a8f370bb2d780a47b45846bf92b099312"><div class="ttname"><a href="namespacedpp.html#a83479ddaa45166def7719d5511b09d02a8f370bb2d780a47b45846bf92b099312">dpp::ir_deferred_update_message</a></div><div class="ttdeci">@ ir_deferred_update_message</div><div class="ttdoc">for components, acknowledge an interaction and edit the original message later; the user does not see...</div><div class="ttdef"><b>Definition:</b> appcommand.h:295</div></div>
<div class="ttc" id="anamespacedpp_html_af447e04d0490cd4a9de085e4a758faa4a155f7db65696b4c09b5fcc41787e4726"><div class="ttname"><a href="namespacedpp.html#af447e04d0490cd4a9de085e4a758faa4a155f7db65696b4c09b5fcc41787e4726">dpp::st_wait</a></div><div class="ttdeci">@ st_wait</div><div class="ttdoc">Wait forever on a condition variable. The cluster will spawn threads for each shard and start() will ...</div><div class="ttdef"><b>Definition:</b> cluster.h:65</div></div>
<div class="ttc" id="anamespacedpp_html_afce43206033521b990e3a72bb87481b7a98228836af5d0c180cfc05eb1f0bfde9"><div class="ttname"><a href="namespacedpp.html#afce43206033521b990e3a72bb87481b7a98228836af5d0c180cfc05eb1f0bfde9">dpp::cot_button</a></div><div class="ttdeci">@ cot_button</div><div class="ttdoc">Clickable button.</div><div class="ttdef"><b>Definition:</b> message.h:42</div></div>
<div class="ttc" id="astructdpp_1_1button__click__t_html"><div class="ttname"><a href="structdpp_1_1button__click__t.html">dpp::button_click_t</a></div><div class="ttdoc">Click on button.</div><div class="ttdef"><b>Definition:</b> dispatcher.h:619</div></div>
<div class="ttc" id="astructdpp_1_1event__dispatch__t_html_a357873be4dd30eef7928ae5f7c13e7db"><div class="ttname"><a href="structdpp_1_1event__dispatch__t.html#a357873be4dd30eef7928ae5f7c13e7db">dpp::event_dispatch_t::from</a></div><div class="ttdeci">class discord_client * from</div><div class="ttdoc">Shard the event came from. Note that for some events, notably voice events, this may be nullptr.</div><div class="ttdef"><b>Definition:</b> dispatcher.h:83</div></div>
<div class="ttc" id="astructdpp_1_1interaction__create__t_html_a10553ebb8d10ba58595f825e0a89eb1b"><div class="ttname"><a href="structdpp_1_1interaction__create__t.html#a10553ebb8d10ba58595f825e0a89eb1b">dpp::interaction_create_t::edit_original_response</a></div><div class="ttdeci">void edit_original_response(const message &amp;m, command_completion_event_t callback=utility::log_error()) const</div><div class="ttdoc">Edit original response message for this interaction.</div></div>
<div class="ttc" id="astructdpp_1_1interaction__create__t_html_a8b0c69c156a1e532507a918c13414f14"><div class="ttname"><a href="structdpp_1_1interaction__create__t.html#a8b0c69c156a1e532507a918c13414f14">dpp::interaction_create_t::command</a></div><div class="ttdeci">interaction command</div><div class="ttdoc">command interaction</div><div class="ttdef"><b>Definition:</b> dispatcher.h:585</div></div>
<div class="ttc" id="astructdpp_1_1interaction__create__t_html_aef38626cd24d2212b00ab866509b4d59"><div class="ttname"><a href="structdpp_1_1interaction__create__t.html#aef38626cd24d2212b00ab866509b4d59">dpp::interaction_create_t::co_reply</a></div><div class="ttdeci">dpp::async&lt; dpp::confirmation_callback_t &gt; co_reply() const</div><div class="ttdoc">Acknowledge interaction without displaying a message to the user, for use with button and select menu...</div></div>
<div class="ttc" id="astructdpp_1_1job_html"><div class="ttname"><a href="structdpp_1_1job.html">dpp::job</a></div><div class="ttdoc">Extremely light coroutine object designed to send off a coroutine to execute on its own....</div><div class="ttdef"><b>Definition:</b> job.h:46</div></div>
<div class="ttc" id="astructdpp_1_1message_html"><div class="ttname"><a href="structdpp_1_1message.html">dpp::message</a></div><div class="ttdoc">Represents messages sent and received on Discord.</div><div class="ttdef"><b>Definition:</b> message.h:1180</div></div>
<div class="ttc" id="astructdpp_1_1ready__t_html"><div class="ttname"><a href="structdpp_1_1ready__t.html">dpp::ready_t</a></div><div class="ttdoc">Session ready.</div><div class="ttdef"><b>Definition:</b> dispatcher.h:877</div></div>
<div class="ttc" id="astructdpp_1_1slashcommand__t_html"><div class="ttname"><a href="structdpp_1_1slashcommand__t.html">dpp::slashcommand_t</a></div><div class="ttdoc">User has issued a slash command.</div><div class="ttdef"><b>Definition:</b> dispatcher.h:607</div></div>
</div><!-- fragment --><p >Note that there is a problem with that! If the user never clicks your button, or if the message gets deleted, your coroutine will be stuck waiting... And waiting... Forever until your bot shuts down, occupying a space in memory. This is where the <a class="el" href="expiring-buttons.html">next example</a> comes into play as a solution, with a button that expires with time.</p>
<div class="image">
<img src="waiting_coroutine.jpg" alt=""/>
</div>
 </div></div><!-- contents --><script src="https://giscus.app/client.js" data-repo="brainboxdotcc/dpp-comments" data-repo-id="R_kgDOHOY4xg" data-category="General" data-category-id="DIC_kwDOHOY4xs4CRYtj" data-mapping="pathname" data-strict="1" data-reactions-enabled="1" data-emit-metadata="1" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async></script>
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="nav-path" class="navpath">
	<ul>
		<li class="navelem"><a class="el" href="example-programs.html">Example Programs</a></li><li class="navelem"><a class="el" href="using-coroutines.html">Using Coroutines</a></li>
	</ul>
</div>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QTH6YHBNG5"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/base16/dracula.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100&display=swap" rel="stylesheet">
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-QTH6YHBNG5');
	$(function() {
		$(".fragment").each(function(i,node) {
			var $node = $(node);
			$node.children(":not(.line)").remove();
			$node.html("<pre><code class='stan'>" + $node.text().trim().replaceAll("<", "&lt;").replaceAll(">", "&gt;") + "</code></pre>");
			hljs.configure({
				languages: ['cpp','diff','cmake','bash','sh','text'],
				ignoreUnescapedHTML: true
			});
			hljs.highlightAll(node);
			hljs.initLineNumbersOnLoad(node);  
		});
		$(".fragment").parent().parent().parent().parent().removeClass('doxtable');
	});
</script>
<style>
	.hljs-ln-code, code, code a, pre.fragment, div.fragment, div.fragment .line, div.fragment span, div.fragment .line a, div.fragment .line span {
		font-family: 'JetBrains Mono', monospace !important;
		font-size: 0.8rem !important;
	}
	.fragment {
		padding: 0 !important;
		margin-top: 0 !important;
		margin-bottom: 0 !important;
		background: none !important;
		border: 0 !important;
	}
	.hljs-ln-n::before {
		content: attr(data-line-number);
		padding-right: 1rem !important;
	}
	table.markdownTable code td, table.markdownTable code th, table.fieldtable code td, table.fieldtable code th, table.doxtable code td, table.doxtable code th {
		border: 0 !important;
		padding: 0 !important;
	}	
</style>
<div style="z-index: -9999; position: absolute; right: 0; top: 0; font-size: 0.0001rem;color:transparent;background:none">
	<!-- For crawlability of past versions -->
	<a href='/10.0.28/'>D++ Library version 10.0.28</a><a href='/10.0.27/'>D++ Library version 10.0.27</a><a href='/10.0.26/'>D++ Library version 10.0.26</a><a href='/10.0.25/'>D++ Library version 10.0.25</a><a href='/10.0.24/'>D++ Library version 10.0.24</a><a href='/10.0.23/'>D++ Library version 10.0.23</a><a href='/10.0.22/'>D++ Library version 10.0.22</a><a href='/10.0.21/'>D++ Library version 10.0.21</a><a href='/10.0.20/'>D++ Library version 10.0.20</a><a href='/10.0.19/'>D++ Library version 10.0.19</a><a href='/10.0.18/'>D++ Library version 10.0.18</a><a href='/10.0.17/'>D++ Library version 10.0.17</a><a href='/10.0.16/'>D++ Library version 10.0.16</a><a href='/10.0.15/'>D++ Library version 10.0.15</a><a href='/10.0.14/'>D++ Library version 10.0.14</a><a href='/10.0.13/'>D++ Library version 10.0.13</a><a href='/10.0.12/'>D++ Library version 10.0.12</a><a href='/10.0.11/'>D++ Library version 10.0.11</a><a href='/10.0.10/'>D++ Library version 10.0.10</a><a href='/10.0.9/'>D++ Library version 10.0.9</a><a href='/10.0.8/'>D++ Library version 10.0.8</a><a href='/10.0.7/'>D++ Library version 10.0.7</a><a href='/10.0.6/'>D++ Library version 10.0.6</a><a href='/10.0.5/'>D++ Library version 10.0.5</a><a href='/10.0.4/'>D++ Library version 10.0.4</a><a href='/10.0.3/'>D++ Library version 10.0.3</a><a href='/10.0.2/'>D++ Library version 10.0.2</a><a href='/10.0.1/'>D++ Library version 10.0.1</a><a href='/10.0.0/'>D++ Library version 10.0.0</a><a href='/9.0.19/'>D++ Library version 9.0.19</a><a href='/9.0.18/'>D++ Library version 9.0.18</a><a href='/9.0.17/'>D++ Library version 9.0.17</a><a href='/9.0.16/'>D++ Library version 9.0.16</a><a href='/9.0.15/'>D++ Library version 9.0.15</a><a href='/9.0.14/'>D++ Library version 9.0.14</a><a href='/9.0.13/'>D++ Library version 9.0.13</a><a href='/9.0.12/'>D++ Library version 9.0.12</a><a href='/9.0.11/'>D++ Library version 9.0.11</a><a href='/9.0.10/'>D++ Library version 9.0.10</a><a href='/9.0.9/'>D++ Library version 9.0.9</a><a href='/9.0.8/'>D++ Library version 9.0.8</a><a href='/9.0.7/'>D++ Library version 9.0.7</a><a href='/9.0.6/'>D++ Library version 9.0.6</a><a href='/9.0.5/'>D++ Library version 9.0.5</a><a href='/9.0.4/'>D++ Library version 9.0.4</a><a href='/9.0.3/'>D++ Library version 9.0.3</a><a href='/9.0.2/'>D++ Library version 9.0.2</a><a href='/9.0.1/'>D++ Library version 9.0.1</a><a href='/9.0.0/'>D++ Library version 9.0.0</a><a href='/1.0.2/'>D++ Library version 1.0.2</a><a href='/1.0.1/'>D++ Library version 1.0.1</a><a href='/1.0.0/'>D++ Library version 1.0.0</a>
</div>
</body>
</html>
