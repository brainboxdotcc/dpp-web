<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<meta property="og:title" content="Checking Permissions - D++ - The lightweight C++ Discord API Library">
<meta property="og:description" content="A lightweight C++ Discord API library supporting the entire Discord API, including Slash Commands, Voice/Audio, Sharding, Clustering and more!">
<meta name="description" content="Checking Permissions - D++ - A lightweight C++ Discord API library supporting the entire Discord API, including Slash Commands, Voice/Audio, Sharding, Clustering and more!">
<meta property="og:image" content="https://dpp.dev/DPP-Logo.png">
<meta property="og:url" content="https://dpp.dev/">
<meta property="og:type" content="website">
<meta property="twitter:title" content="Checking Permissions - D++ - The lightweight C++ Discord API Library">
<title>Checking Permissions - D++ - The lightweight C++ Discord API Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<script>
	setTimeout(function() {
		$("#main-menu").html($("#main-menu").html() + "<li><select name='vsv' onchange='window.location.href=this.options[this.selectedIndex].value'><option value='/'>master</option><option value='/10.1.3/'>10.1.3</option><option value='/10.1.2/'>10.1.2</option><option value='/10.1.1/'>10.1.1</option><option value='/10.1.0/'>10.1.0</option><option value='/10.0.35/'>10.0.35</option><option value='/10.0.34/'>10.0.34</option><option selected value='/10.0.33/'>10.0.33</option><option value='/10.0.32/'>10.0.32</option><option value='/10.0.31/'>10.0.31</option><option value='/10.0.30/'>10.0.30</option><option value='/10.0.29/'>10.0.29</option><option value='/10.0.28/'>10.0.28</option><option value='/10.0.27/'>10.0.27</option><option value='/10.0.26/'>10.0.26</option><option value='/10.0.25/'>10.0.25</option><option value='/10.0.24/'>10.0.24</option><option value='/10.0.23/'>10.0.23</option><option value='/10.0.22/'>10.0.22</option><option value='/10.0.21/'>10.0.21</option><option value='/10.0.20/'>10.0.20</option><option value='/10.0.19/'>10.0.19</option><option value='/10.0.18/'>10.0.18</option><option value='/10.0.17/'>10.0.17</option><option value='/10.0.16/'>10.0.16</option><option value='/10.0.15/'>10.0.15</option><option value='/10.0.14/'>10.0.14</option><option value='/10.0.13/'>10.0.13</option><option value='/10.0.12/'>10.0.12</option><option value='/10.0.11/'>10.0.11</option><option value='/10.0.10/'>10.0.10</option><option value='/10.0.9/'>10.0.9</option><option value='/10.0.8/'>10.0.8</option><option value='/10.0.7/'>10.0.7</option><option value='/10.0.6/'>10.0.6</option><option value='/10.0.5/'>10.0.5</option><option value='/10.0.4/'>10.0.4</option><option value='/10.0.3/'>10.0.3</option><option value='/10.0.2/'>10.0.2</option><option value='/10.0.1/'>10.0.1</option><option value='/10.0.0/'>10.0.0</option><option value='/9.0.19/'>9.0.19</option><option value='/9.0.18/'>9.0.18</option><option value='/9.0.17/'>9.0.17</option><option value='/9.0.16/'>9.0.16</option><option value='/9.0.15/'>9.0.15</option><option value='/9.0.14/'>9.0.14</option><option value='/9.0.13/'>9.0.13</option><option value='/9.0.12/'>9.0.12</option><option value='/9.0.11/'>9.0.11</option><option value='/9.0.10/'>9.0.10</option><option value='/9.0.9/'>9.0.9</option><option value='/9.0.8/'>9.0.8</option><option value='/9.0.7/'>9.0.7</option><option value='/9.0.6/'>9.0.6</option><option value='/9.0.5/'>9.0.5</option><option value='/9.0.4/'>9.0.4</option><option value='/9.0.3/'>9.0.3</option><option value='/9.0.2/'>9.0.2</option><option value='/9.0.1/'>9.0.1</option><option value='/9.0.0/'>9.0.0</option><option value='/1.0.2/'>1.0.2</option><option value='/1.0.1/'>1.0.1</option><option value='/1.0.0/'>1.0.0</option></select></li>");
	}, 500);
</script>
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  <td id="projectlogo"><img alt="Logo" src="DPP-Logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">D++ (DPP)
   </div>
   <div id="projectbrief">C++ Discord API Bot Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<label for="MSearchField" style="display: none">Search</label>
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('checking-member-permissions.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Checking Permissions </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >Of course most people do just iterate over the roles of a member to check for a permission. But there's a helper method for that: <a class="el" href="classdpp_1_1guild.html#abd799f5cbe1907c46b86937bda124bee" title="Compute the base permissions for a member on this guild, before channel overwrites are applied....">dpp::guild::base_permissions</a> gets a member's permission taking into account the server owner and role permissions.</p>
<p >For total member permissions including channel overwrites use either the <a class="el" href="classdpp_1_1channel.html#adfb656e912fba27c809ab8754e2855b5" title="Get the overall permissions for a member in this channel, including channel overwrites,...">dpp::channel::get_user_permissions</a> or <a class="el" href="classdpp_1_1guild.html#ad33639446c930d418139a976c9c1a071" title="Get the overall permissions for a member in this channel, including channel overwrites,...">dpp::guild::permission_overwrites</a> method. Both do the same under the hood.</p>
<p >They all return a <a class="el" href="classdpp_1_1permission.html" title="Represents a permission bitmask (refer to enum dpp::permissions) which are held in an uint64_t.">dpp::permission</a> class, which is a wrapper around a permission bitmask containing bits of the <a class="el" href="namespacedpp.html#a64f16cd622b3a09ae96803ba07fa75b7" title="Represents the various discord permissions.">dpp::permissions</a> enum.</p>
<p >Demonstration:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="classdpp_1_1channel.html">dpp::channel</a>* c = <a class="code hl_function" href="namespacedpp.html#a165978ef81875d2798e78c6eaf4eeafd">dpp::find_channel</a>(some_channel_id);</div>
<div class="line"><span class="keywordflow">if</span> (c &amp;&amp; c-&gt;<a class="code hl_function" href="classdpp_1_1channel.html#adfb656e912fba27c809ab8754e2855b5">get_user_permissions</a>(member).<a class="code hl_function" href="classdpp_1_1permission.html#adc6228f57c04d9ad60df458c4a7e76bb">can</a>(<a class="code hl_enumvalue" href="namespacedpp.html#a64f16cd622b3a09ae96803ba07fa75b7ad410586df8dba6f62b7770f1d08d3b79">dpp::p_send_messages</a>)) {</div>
<div class="line">    <span class="comment">//...</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassdpp_1_1channel_html"><div class="ttname"><a href="classdpp_1_1channel.html">dpp::channel</a></div><div class="ttdoc">A definition of a discord channel. There are one of these for every channel type except threads....</div><div class="ttdef"><b>Definition:</b> channel.h:340</div></div>
<div class="ttc" id="aclassdpp_1_1channel_html_adfb656e912fba27c809ab8754e2855b5"><div class="ttname"><a href="classdpp_1_1channel.html#adfb656e912fba27c809ab8754e2855b5">dpp::channel::get_user_permissions</a></div><div class="ttdeci">permission get_user_permissions(const class user *user) const</div><div class="ttdoc">Get the overall permissions for a member in this channel, including channel overwrites,...</div></div>
<div class="ttc" id="aclassdpp_1_1permission_html_adc6228f57c04d9ad60df458c4a7e76bb"><div class="ttname"><a href="classdpp_1_1permission.html#adc6228f57c04d9ad60df458c4a7e76bb">dpp::permission::can</a></div><div class="ttdeci">constexpr bool can(T... values) const noexcept</div><div class="ttdoc">Check for certain permissions, taking into account administrator privileges. It uses the Bitwise AND ...</div><div class="ttdef"><b>Definition:</b> permissions.h:335</div></div>
<div class="ttc" id="anamespacedpp_html_a165978ef81875d2798e78c6eaf4eeafd"><div class="ttname"><a href="namespacedpp.html#a165978ef81875d2798e78c6eaf4eeafd">dpp::find_channel</a></div><div class="ttdeci">DPP_EXPORT class channel * find_channel(snowflake id)</div></div>
<div class="ttc" id="anamespacedpp_html_a64f16cd622b3a09ae96803ba07fa75b7ad410586df8dba6f62b7770f1d08d3b79"><div class="ttname"><a href="namespacedpp.html#a64f16cd622b3a09ae96803ba07fa75b7ad410586df8dba6f62b7770f1d08d3b79">dpp::p_send_messages</a></div><div class="ttdeci">@ p_send_messages</div><div class="ttdoc">Allows for sending messages in a channel.</div><div class="ttdef"><b>Definition:</b> permissions.h:92</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md115"></a>
Permissions in Interaction Events</h2>
<h3><a class="anchor" id="autotoc_md116"></a>
Default Command Permissions</h3>
<p >Discord's intended way to manage permissions for commands is through default member permissions. You set them using <a class="el" href="classdpp_1_1slashcommand.html#a51084be92893e21d13ffe320a2b77e8a" title="Set the default permissions of the slash command.">dpp::slashcommand::set_default_permissions</a> when creating or updating a command to set the default permissions a user must have to use it. However, server administrators can then overwrite these permissions by their own restrictions.</p>
<p >The corresponding code to create a command with default permissions would look something like this:</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="classdpp_1_1slashcommand.html">dpp::slashcommand</a> command(<span class="stringliteral">&quot;ban&quot;</span>, <span class="stringliteral">&quot;Ban a member&quot;</span>, bot.me.id);</div>
<div class="line"> </div>
<div class="line">command.set_default_permissions(<a class="code hl_enumvalue" href="namespacedpp.html#a64f16cd622b3a09ae96803ba07fa75b7a6c9849fc7380edaf4ab8f169c2f4cc82">dpp::p_ban_members</a>); <span class="comment">// set permissions that are required by default here</span></div>
<div class="line"> </div>
<div class="line">command.add_option(<a class="code hl_struct" href="structdpp_1_1command__option.html">dpp::command_option</a>(<a class="code hl_enumvalue" href="namespacedpp.html#abc401d86119c6443bf72d736857c1a58a5a2ea837ca5ec64e6385acf392cef1e2">dpp::co_user</a>, <span class="stringliteral">&quot;user&quot;</span>, <span class="stringliteral">&quot;The user to ban&quot;</span>, <span class="keyword">true</span>));</div>
<div class="line">command.add_option(<a class="code hl_struct" href="structdpp_1_1command__option.html">dpp::command_option</a>(<a class="code hl_enumvalue" href="namespacedpp.html#abc401d86119c6443bf72d736857c1a58acd751201efe224973dfe952d8658a384">dpp::co_string</a>, <span class="stringliteral">&quot;reason&quot;</span>, <span class="stringliteral">&quot;The reason for banning&quot;</span>, <span class="keyword">true</span>));</div>
<div class="line"> </div>
<div class="line">bot.global_command_create(command);</div>
<div class="ttc" id="aclassdpp_1_1slashcommand_html"><div class="ttname"><a href="classdpp_1_1slashcommand.html">dpp::slashcommand</a></div><div class="ttdoc">Represents an application command, created by your bot either globally, or on a guild.</div><div class="ttdef"><b>Definition:</b> appcommand.h:1342</div></div>
<div class="ttc" id="anamespacedpp_html_a64f16cd622b3a09ae96803ba07fa75b7a6c9849fc7380edaf4ab8f169c2f4cc82"><div class="ttname"><a href="namespacedpp.html#a64f16cd622b3a09ae96803ba07fa75b7a6c9849fc7380edaf4ab8f169c2f4cc82">dpp::p_ban_members</a></div><div class="ttdeci">@ p_ban_members</div><div class="ttdoc">Allows banning members.</div><div class="ttdef"><b>Definition:</b> permissions.h:46</div></div>
<div class="ttc" id="anamespacedpp_html_abc401d86119c6443bf72d736857c1a58a5a2ea837ca5ec64e6385acf392cef1e2"><div class="ttname"><a href="namespacedpp.html#abc401d86119c6443bf72d736857c1a58a5a2ea837ca5ec64e6385acf392cef1e2">dpp::co_user</a></div><div class="ttdeci">@ co_user</div><div class="ttdoc">A user snowflake id.</div><div class="ttdef"><b>Definition:</b> appcommand.h:79</div></div>
<div class="ttc" id="anamespacedpp_html_abc401d86119c6443bf72d736857c1a58acd751201efe224973dfe952d8658a384"><div class="ttname"><a href="namespacedpp.html#abc401d86119c6443bf72d736857c1a58acd751201efe224973dfe952d8658a384">dpp::co_string</a></div><div class="ttdeci">@ co_string</div><div class="ttdoc">A string value.</div><div class="ttdef"><b>Definition:</b> appcommand.h:64</div></div>
<div class="ttc" id="astructdpp_1_1command__option_html"><div class="ttname"><a href="structdpp_1_1command__option.html">dpp::command_option</a></div><div class="ttdoc">Each command option is a command line parameter. It can have a type (see dpp::command_option_type),...</div><div class="ttdef"><b>Definition:</b> appcommand.h:203</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md117"></a>
Checking Permissions on Your Own</h3>
<p >If you want to check permissions on your own, the easiest way to check if a member has certain permissions in interaction events is by using the <a class="el" href="classdpp_1_1interaction.html#a89ef384ef9f2c2f7bf99c2b5ba0844c3" title="Get a permission associated with the slash command from the resolved list. The resolved list contains...">dpp::interaction::get_resolved_permission</a> function. The resolved list contains associated structures for the command and does not use the cache or require any extra API calls. Note that the permissions in the resolved set are pre-calculated by Discord and taking into account channel overwrites, roles and admin privileges. So no need to loop through roles or stuff like that.</p>
<p >Let's imagine the following scenario:</p>
<p >You have a ban command and want to make sure the issuer has the ban permission.</p>
<div class="fragment"><div class="line">bot.on_interaction_create([](<span class="keyword">const</span> <a class="code hl_struct" href="structdpp_1_1interaction__create__t.html">dpp::interaction_create_t</a>&amp; event) {</div>
<div class="line">    <a class="code hl_class" href="classdpp_1_1permission.html">dpp::permission</a> perms = <span class="keyword">event</span>.command.get_resolved_permission(event.<a class="code hl_variable" href="structdpp_1_1interaction__create__t.html#a8b0c69c156a1e532507a918c13414f14">command</a>.<a class="code hl_variable" href="classdpp_1_1interaction.html#af42be274f0c532e1b227d6725f25ecd3">usr</a>.<a class="code hl_variable" href="classdpp_1_1managed.html#a40bf0c6cc03909910512808fa6caa112">id</a>);</div>
<div class="line">    if (!perms.<a class="code hl_function" href="classdpp_1_1permission.html#adc6228f57c04d9ad60df458c4a7e76bb">can</a>(<a class="code hl_enumvalue" href="namespacedpp.html#a64f16cd622b3a09ae96803ba07fa75b7a6c9849fc7380edaf4ab8f169c2f4cc82">dpp::p_ban_members</a>)) {</div>
<div class="line">        event.reply(<span class="stringliteral">&quot;You don&#39;t have the required permissions to ban someone!&quot;</span>);</div>
<div class="line">        return;</div>
<div class="line">    }</div>
<div class="line">});</div>
<div class="ttc" id="aclassdpp_1_1interaction_html_af42be274f0c532e1b227d6725f25ecd3"><div class="ttname"><a href="classdpp_1_1interaction.html#af42be274f0c532e1b227d6725f25ecd3">dpp::interaction::usr</a></div><div class="ttdeci">user usr</div><div class="ttdoc">User object for the invoking user.</div><div class="ttdef"><b>Definition:</b> appcommand.h:1008</div></div>
<div class="ttc" id="aclassdpp_1_1managed_html_a40bf0c6cc03909910512808fa6caa112"><div class="ttname"><a href="classdpp_1_1managed.html#a40bf0c6cc03909910512808fa6caa112">dpp::managed::id</a></div><div class="ttdeci">snowflake id</div><div class="ttdoc">Unique ID of object set by Discord. This value contains a timestamp, worker ID, internal server ID,...</div><div class="ttdef"><b>Definition:</b> managed.h:39</div></div>
<div class="ttc" id="aclassdpp_1_1permission_html"><div class="ttname"><a href="classdpp_1_1permission.html">dpp::permission</a></div><div class="ttdoc">Represents a permission bitmask (refer to enum dpp::permissions) which are held in an uint64_t.</div><div class="ttdef"><b>Definition:</b> permissions.h:279</div></div>
<div class="ttc" id="astructdpp_1_1interaction__create__t_html"><div class="ttname"><a href="structdpp_1_1interaction__create__t.html">dpp::interaction_create_t</a></div><div class="ttdoc">Create interaction.</div><div class="ttdef"><b>Definition:</b> dispatcher.h:461</div></div>
<div class="ttc" id="astructdpp_1_1interaction__create__t_html_a8b0c69c156a1e532507a918c13414f14"><div class="ttname"><a href="structdpp_1_1interaction__create__t.html#a8b0c69c156a1e532507a918c13414f14">dpp::interaction_create_t::command</a></div><div class="ttdeci">interaction command</div><div class="ttdoc">command interaction</div><div class="ttdef"><b>Definition:</b> dispatcher.h:678</div></div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>When using default permissions you don't necessarily need to check the issuing user for any permissions in the interaction event as Discord handles all that for you. But if you'd sleep better...</dd></dl>
<h3><a class="anchor" id="autotoc_md118"></a>
From Parameters</h3>
<p >The resolved set also contains the permissions of members from command parameters.</p>
<p >For example, let's say you want to prohibit people from banning server admins with your ban command.</p>
<p >Get the user ID from the parameters and pass it to the <code>get_resolved_permission</code> method:</p>
<div class="fragment"><div class="line">bot.on_interaction_create([](<span class="keyword">const</span> <a class="code hl_struct" href="structdpp_1_1interaction__create__t.html">dpp::interaction_create_t</a>&amp; event) {</div>
<div class="line">    <a class="code hl_class" href="classdpp_1_1snowflake.html">dpp::snowflake</a> user_id = std::get&lt;dpp::snowflake&gt;(event.<a class="code hl_function" href="structdpp_1_1interaction__create__t.html#ae89b601e82f534d5d87135b82a6f0491">get_parameter</a>(<span class="stringliteral">&quot;user&quot;</span>));</div>
<div class="line">    <a class="code hl_class" href="classdpp_1_1permission.html">dpp::permission</a> perms = <span class="keyword">event</span>.command.get_resolved_permission(user_id);</div>
<div class="line">    <span class="keywordflow">if</span> (perms.<a class="code hl_function" href="classdpp_1_1permission.html#a02df5786b6ca1d11bbd24a175e3e28c4">has</a>(<a class="code hl_enumvalue" href="namespacedpp.html#a64f16cd622b3a09ae96803ba07fa75b7a43f62c967b9b16b49c315a0b23f86039">dpp::p_administrator</a>)) {</div>
<div class="line">        <span class="keyword">event</span>.reply(<span class="stringliteral">&quot;You can&#39;t ban Admins!&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">});</div>
<div class="ttc" id="aclassdpp_1_1permission_html_a02df5786b6ca1d11bbd24a175e3e28c4"><div class="ttname"><a href="classdpp_1_1permission.html#a02df5786b6ca1d11bbd24a175e3e28c4">dpp::permission::has</a></div><div class="ttdeci">constexpr bool has(T... values) const noexcept</div><div class="ttdoc">Check for permission flags set. It uses the Bitwise AND operator.</div><div class="ttdef"><b>Definition:</b> permissions.h:373</div></div>
<div class="ttc" id="aclassdpp_1_1snowflake_html"><div class="ttname"><a href="classdpp_1_1snowflake.html">dpp::snowflake</a></div><div class="ttdoc">A container for a 64 bit unsigned value representing many things on discord. This value is known in d...</div><div class="ttdef"><b>Definition:</b> snowflake.h:54</div></div>
<div class="ttc" id="anamespacedpp_html_a64f16cd622b3a09ae96803ba07fa75b7a43f62c967b9b16b49c315a0b23f86039"><div class="ttname"><a href="namespacedpp.html#a64f16cd622b3a09ae96803ba07fa75b7a43f62c967b9b16b49c315a0b23f86039">dpp::p_administrator</a></div><div class="ttdeci">@ p_administrator</div><div class="ttdoc">Allows all permissions and bypasses channel permission overwrites.</div><div class="ttdef"><b>Definition:</b> permissions.h:51</div></div>
<div class="ttc" id="astructdpp_1_1interaction__create__t_html_ae89b601e82f534d5d87135b82a6f0491"><div class="ttname"><a href="structdpp_1_1interaction__create__t.html#ae89b601e82f534d5d87135b82a6f0491">dpp::interaction_create_t::get_parameter</a></div><div class="ttdeci">virtual command_value get_parameter(const std::string &amp;name) const</div><div class="ttdoc">Get a slashcommand parameter.</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md119"></a>
The Bot's Permissions</h3>
<p >You also might want to check if the bot itself has the ban permission before processing the command further. You can access the bot's permissions in the <a class="el" href="classdpp_1_1interaction.html#a1a91af243ab4d765ecadc025958a8a85" title="Permissions of the bot in the channel/guild where this command was issued.">dpp::interaction::app_permissions</a> field.</p>
<div class="fragment"><div class="line">bot.on_interaction_create([](<span class="keyword">const</span> <a class="code hl_struct" href="structdpp_1_1interaction__create__t.html">dpp::interaction_create_t</a>&amp; event) {</div>
<div class="line">    <span class="keywordflow">if</span> (!event.<a class="code hl_variable" href="structdpp_1_1interaction__create__t.html#a8b0c69c156a1e532507a918c13414f14">command</a>.<a class="code hl_variable" href="classdpp_1_1interaction.html#a1a91af243ab4d765ecadc025958a8a85">app_permissions</a>.<a class="code hl_function" href="classdpp_1_1permission.html#adc6228f57c04d9ad60df458c4a7e76bb">can</a>(<a class="code hl_enumvalue" href="namespacedpp.html#a64f16cd622b3a09ae96803ba07fa75b7a6c9849fc7380edaf4ab8f169c2f4cc82">dpp::p_ban_members</a>)) {</div>
<div class="line">        event.reply(<span class="stringliteral">&quot;The bot doesn&#39;t have the required permission to ban anyone!&quot;</span>);</div>
<div class="line">        return;</div>
<div class="line">    }</div>
<div class="line">});</div>
<div class="ttc" id="aclassdpp_1_1interaction_html_a1a91af243ab4d765ecadc025958a8a85"><div class="ttname"><a href="classdpp_1_1interaction.html#a1a91af243ab4d765ecadc025958a8a85">dpp::interaction::app_permissions</a></div><div class="ttdeci">permission app_permissions</div><div class="ttdoc">Permissions of the bot in the channel/guild where this command was issued.</div><div class="ttdef"><b>Definition:</b> appcommand.h:993</div></div>
</div><!-- fragment --> </div></div><!-- contents --><script src="https://giscus.app/client.js" data-repo="brainboxdotcc/dpp-comments" data-repo-id="R_kgDOHOY4xg" data-category="General" data-category-id="DIC_kwDOHOY4xs4CRYtj" data-mapping="pathname" data-strict="1" data-reactions-enabled="1" data-emit-metadata="1" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async></script>
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="nav-path" class="navpath">
	<ul>
		<li class="navelem"><a class="el" href="example-programs.html">Example Programs</a></li><li class="navelem"><a class="el" href="misc.html">Miscellaneous Examples</a></li>
	</ul>
</div>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QTH6YHBNG5"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/base16/dracula.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100&display=swap" rel="stylesheet">
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-QTH6YHBNG5');
	$(function() {
		$(".fragment").each(function(i,node) {
			var $node = $(node);
			$node.children(":not(.line)").remove();
			$node.html("<pre><code class='stan'>" + $node.text().trim().replaceAll("<", "&lt;").replaceAll(">", "&gt;") + "</code></pre>");
			hljs.configure({
				languages: ['cpp','diff','cmake','bash','sh','text'],
				ignoreUnescapedHTML: true
			});
			hljs.highlightAll(node);
			hljs.initLineNumbersOnLoad(node);  
		});
		$(".fragment").parent().parent().parent().parent().removeClass('doxtable');
	});
</script>
<style>
	.hljs-ln-code, code, code a, pre.fragment, div.fragment, div.fragment .line, div.fragment span, div.fragment .line a, div.fragment .line span {
		font-family: 'JetBrains Mono', monospace !important;
		font-size: 0.8rem !important;
	}
	.fragment {
		padding: 0 !important;
		margin-top: 0 !important;
		margin-bottom: 0 !important;
		background: none !important;
		border: 0 !important;
	}
	.hljs-ln-n::before {
		content: attr(data-line-number);
		padding-right: 1rem !important;
	}
	table.markdownTable code td, table.markdownTable code th, table.fieldtable code td, table.fieldtable code th, table.doxtable code td, table.doxtable code th {
		border: 0 !important;
		padding: 0 !important;
	}	
</style>
<div style="z-index: -9999; position: absolute; right: 0; top: 0; font-size: 0.0001rem;color:transparent;background:none">
	<!-- For crawlability of past versions -->
	<a href='/10.1.3/'>D++ Library version 10.1.3</a><a href='/10.1.2/'>D++ Library version 10.1.2</a><a href='/10.1.1/'>D++ Library version 10.1.1</a><a href='/10.1.0/'>D++ Library version 10.1.0</a><a href='/10.0.35/'>D++ Library version 10.0.35</a><a href='/10.0.34/'>D++ Library version 10.0.34</a><a href='/10.0.33/'>D++ Library version 10.0.33</a><a href='/10.0.32/'>D++ Library version 10.0.32</a><a href='/10.0.31/'>D++ Library version 10.0.31</a><a href='/10.0.30/'>D++ Library version 10.0.30</a><a href='/10.0.29/'>D++ Library version 10.0.29</a><a href='/10.0.28/'>D++ Library version 10.0.28</a><a href='/10.0.27/'>D++ Library version 10.0.27</a><a href='/10.0.26/'>D++ Library version 10.0.26</a><a href='/10.0.25/'>D++ Library version 10.0.25</a><a href='/10.0.24/'>D++ Library version 10.0.24</a><a href='/10.0.23/'>D++ Library version 10.0.23</a><a href='/10.0.22/'>D++ Library version 10.0.22</a><a href='/10.0.21/'>D++ Library version 10.0.21</a><a href='/10.0.20/'>D++ Library version 10.0.20</a><a href='/10.0.19/'>D++ Library version 10.0.19</a><a href='/10.0.18/'>D++ Library version 10.0.18</a><a href='/10.0.17/'>D++ Library version 10.0.17</a><a href='/10.0.16/'>D++ Library version 10.0.16</a><a href='/10.0.15/'>D++ Library version 10.0.15</a><a href='/10.0.14/'>D++ Library version 10.0.14</a><a href='/10.0.13/'>D++ Library version 10.0.13</a><a href='/10.0.12/'>D++ Library version 10.0.12</a><a href='/10.0.11/'>D++ Library version 10.0.11</a><a href='/10.0.10/'>D++ Library version 10.0.10</a><a href='/10.0.9/'>D++ Library version 10.0.9</a><a href='/10.0.8/'>D++ Library version 10.0.8</a><a href='/10.0.7/'>D++ Library version 10.0.7</a><a href='/10.0.6/'>D++ Library version 10.0.6</a><a href='/10.0.5/'>D++ Library version 10.0.5</a><a href='/10.0.4/'>D++ Library version 10.0.4</a><a href='/10.0.3/'>D++ Library version 10.0.3</a><a href='/10.0.2/'>D++ Library version 10.0.2</a><a href='/10.0.1/'>D++ Library version 10.0.1</a><a href='/10.0.0/'>D++ Library version 10.0.0</a><a href='/9.0.19/'>D++ Library version 9.0.19</a><a href='/9.0.18/'>D++ Library version 9.0.18</a><a href='/9.0.17/'>D++ Library version 9.0.17</a><a href='/9.0.16/'>D++ Library version 9.0.16</a><a href='/9.0.15/'>D++ Library version 9.0.15</a><a href='/9.0.14/'>D++ Library version 9.0.14</a><a href='/9.0.13/'>D++ Library version 9.0.13</a><a href='/9.0.12/'>D++ Library version 9.0.12</a><a href='/9.0.11/'>D++ Library version 9.0.11</a><a href='/9.0.10/'>D++ Library version 9.0.10</a><a href='/9.0.9/'>D++ Library version 9.0.9</a><a href='/9.0.8/'>D++ Library version 9.0.8</a><a href='/9.0.7/'>D++ Library version 9.0.7</a><a href='/9.0.6/'>D++ Library version 9.0.6</a><a href='/9.0.5/'>D++ Library version 9.0.5</a><a href='/9.0.4/'>D++ Library version 9.0.4</a><a href='/9.0.3/'>D++ Library version 9.0.3</a><a href='/9.0.2/'>D++ Library version 9.0.2</a><a href='/9.0.1/'>D++ Library version 9.0.1</a><a href='/9.0.0/'>D++ Library version 9.0.0</a><a href='/1.0.2/'>D++ Library version 1.0.2</a><a href='/1.0.1/'>D++ Library version 1.0.1</a><a href='/1.0.0/'>D++ Library version 1.0.0</a>
</div>
</body>
</html>
