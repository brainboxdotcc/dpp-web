<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta charset="utf-8">
<meta property="og:title" content="dpp::commandhandler Class Reference - D++ - The lightweight C++ Discord API Library">
<meta property="og:description" content="A lightweight C++ Discord API library supporting the entire Discord API, including Slash Commands, Voice/Audio, Sharding, Clustering and more!">
<meta property="og:image" content="https://dpp.brainbox.cc/DPP-Logo.png">
<meta property="og:url" content="https://dpp.brainbox.cc/">
<meta property="og:type" content="website">
<meta property="twitter:title" content="dpp::commandhandler Class Reference - D++ - The lightweight C++ Discord API Library">
<title>dpp::commandhandler Class Reference - D++ - The lightweight C++ Discord API Library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="background: #99aab5">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;background:#99aab5 !important">
  <td id="projectlogo"><img alt="Logo" src="DPP-Small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">D++ (DPP)
   </div>
   <div id="projectbrief">A Lightweight C++ library for Discord</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classdpp_1_1commandhandler.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classdpp_1_1commandhandler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dpp::commandhandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The commandhandler class represents a group of commands, prefixed or slash commands with handling functions.  
 <a href="classdpp_1_1commandhandler.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for dpp::commandhandler:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="classdpp_1_1commandhandler__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a064419ada0fd30cee04faec9f75ba04d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#a064419ada0fd30cee04faec9f75ba04d">string_has_prefix</a> (std::string &amp;str)</td></tr>
<tr class="memdesc:a064419ada0fd30cee04faec9f75ba04d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the string has a known prefix on the start. Modifies string to remove prefix if it returns true.  <a href="#a064419ada0fd30cee04faec9f75ba04d">More...</a><br /></td></tr>
<tr class="separator:a064419ada0fd30cee04faec9f75ba04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7300779eb1aaf04041e48c756abafafb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#a7300779eb1aaf04041e48c756abafafb">commandhandler</a> (class <a class="el" href="classdpp_1_1cluster.html">cluster</a> *o, bool auto_hook_events=true, <a class="el" href="namespacedpp.html#a0dec2a52b080906aebfd3e1b3db02475">snowflake</a> application_id=0)</td></tr>
<tr class="memdesc:a7300779eb1aaf04041e48c756abafafb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new commandhandler object.  <a href="#a7300779eb1aaf04041e48c756abafafb">More...</a><br /></td></tr>
<tr class="separator:a7300779eb1aaf04041e48c756abafafb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62373f8cdd5b887eb78eb4f4cb265baf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#a62373f8cdd5b887eb78eb4f4cb265baf">~commandhandler</a> ()</td></tr>
<tr class="memdesc:a62373f8cdd5b887eb78eb4f4cb265baf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy the commandhandler object.  <a href="#a62373f8cdd5b887eb78eb4f4cb265baf">More...</a><br /></td></tr>
<tr class="separator:a62373f8cdd5b887eb78eb4f4cb265baf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8640d327288a6dd1c5fdbde85726e7de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdpp_1_1commandhandler.html">commandhandler</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#a8640d327288a6dd1c5fdbde85726e7de">set_owner</a> (class <a class="el" href="classdpp_1_1cluster.html">cluster</a> *o)</td></tr>
<tr class="memdesc:a8640d327288a6dd1c5fdbde85726e7de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the application id after construction.  <a href="#a8640d327288a6dd1c5fdbde85726e7de">More...</a><br /></td></tr>
<tr class="separator:a8640d327288a6dd1c5fdbde85726e7de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ce2bb96adb1a658b3a29c37274f2bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdpp_1_1commandhandler.html">commandhandler</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#a69ce2bb96adb1a658b3a29c37274f2bb">add_prefix</a> (const std::string &amp;prefix)</td></tr>
<tr class="memdesc:a69ce2bb96adb1a658b3a29c37274f2bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a prefix to the command handler.  <a href="#a69ce2bb96adb1a658b3a29c37274f2bb">More...</a><br /></td></tr>
<tr class="separator:a69ce2bb96adb1a658b3a29c37274f2bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a791ed0c75ef77306af84be30ded619f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdpp_1_1commandhandler.html">commandhandler</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#a791ed0c75ef77306af84be30ded619f8">add_command</a> (const std::string &amp;command, const <a class="el" href="namespacedpp.html#a6daf230da747f01eeaa36fd3d5e51a65">parameter_registration_t</a> &amp;parameters, <a class="el" href="namespacedpp.html#a72a8ab3231965d0e361f305a7fe431f3">command_handler</a> handler, const std::string &amp;description=&quot;&quot;, <a class="el" href="namespacedpp.html#a0dec2a52b080906aebfd3e1b3db02475">snowflake</a> guild_id=0)</td></tr>
<tr class="memdesc:a791ed0c75ef77306af84be30ded619f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a command to the command handler.  <a href="#a791ed0c75ef77306af84be30ded619f8">More...</a><br /></td></tr>
<tr class="separator:a791ed0c75ef77306af84be30ded619f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc9825f681bf31cd7c3f00dfd2b31c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdpp_1_1commandhandler.html">commandhandler</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#aedc9825f681bf31cd7c3f00dfd2b31c9">finish</a> ()</td></tr>
<tr class="memdesc:aedc9825f681bf31cd7c3f00dfd2b31c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register all slash commands with Discord This method must be called if you are using the "/" prefix to mark the end of commands being added to the handler. Note that this uses bulk registration and will replace any existing slash commands.  <a href="#aedc9825f681bf31cd7c3f00dfd2b31c9">More...</a><br /></td></tr>
<tr class="separator:aedc9825f681bf31cd7c3f00dfd2b31c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acecd44c69a7cee36d1d12aa5b0354d0d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#acecd44c69a7cee36d1d12aa5b0354d0d">route</a> (const class <a class="el" href="structdpp_1_1message.html">dpp::message</a> &amp;msg)</td></tr>
<tr class="memdesc:acecd44c69a7cee36d1d12aa5b0354d0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route a command from the on_message_create function. Call this method from within your on_message_create with the received <a class="el" href="structdpp_1_1message.html" title="Represents messages sent and received on Discord. ">dpp::message</a> object.  <a href="#acecd44c69a7cee36d1d12aa5b0354d0d">More...</a><br /></td></tr>
<tr class="separator:acecd44c69a7cee36d1d12aa5b0354d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0438c6a4b44fe2e5101debe846cf0894"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#a0438c6a4b44fe2e5101debe846cf0894">route</a> (const class <a class="el" href="structdpp_1_1interaction__create__t.html">interaction_create_t</a> &amp;event)</td></tr>
<tr class="memdesc:a0438c6a4b44fe2e5101debe846cf0894"><td class="mdescLeft">&#160;</td><td class="mdescRight">Route a command from the on_interaction_create function. Call this method from your on_interaction_create with the received <a class="el" href="structdpp_1_1interaction__create__t.html" title="Create interaction. ">dpp::interaction_create_t</a> object.  <a href="#a0438c6a4b44fe2e5101debe846cf0894">More...</a><br /></td></tr>
<tr class="separator:a0438c6a4b44fe2e5101debe846cf0894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09893dbf101b7d0082b0a13e801a9db9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#a09893dbf101b7d0082b0a13e801a9db9">reply</a> (const <a class="el" href="structdpp_1_1message.html">dpp::message</a> &amp;m, <a class="el" href="structdpp_1_1command__source.html">command_source</a> source)</td></tr>
<tr class="memdesc:a09893dbf101b7d0082b0a13e801a9db9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reply to a command. You should use this method rather than <a class="el" href="classdpp_1_1cluster.html#a080a8cefc6ceb0b882fdb6fe70c078a6" title="Send a message to a channel. The callback function is called when the message has been sent...">cluster::message_create</a> as the way you reply varies between slash commands and message commands. Note you should ALWAYS reply. Slash commands will emit an ugly error to the user if you do not emit some form of reply within 3 seconds.  <a href="#a09893dbf101b7d0082b0a13e801a9db9">More...</a><br /></td></tr>
<tr class="separator:a09893dbf101b7d0082b0a13e801a9db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ad7a740213d2daf06bf182ba1afc13e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#a4ad7a740213d2daf06bf182ba1afc13e">thinking</a> (<a class="el" href="structdpp_1_1command__source.html">command_source</a> source)</td></tr>
<tr class="memdesc:a4ad7a740213d2daf06bf182ba1afc13e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reply to a command without a message, causing the discord client to display "Bot name is thinking...". The "thinking" message will persist for a maximum of 15 minutes. This counts as a reply for a slash command. Slash commands will emit an ugly error to the user if you do not emit some form of reply within 3 seconds.  <a href="#a4ad7a740213d2daf06bf182ba1afc13e">More...</a><br /></td></tr>
<tr class="separator:a4ad7a740213d2daf06bf182ba1afc13e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aaeb676a799cda302d4b08106f898a867"><td class="memItemLeft" align="right" valign="top">std::unordered_map<br class="typebreak" />
&lt; std::string, <a class="el" href="structdpp_1_1command__info__t.html">command_info_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#aaeb676a799cda302d4b08106f898a867">commands</a></td></tr>
<tr class="memdesc:aaeb676a799cda302d4b08106f898a867"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commands in the handler.  <a href="#aaeb676a799cda302d4b08106f898a867">More...</a><br /></td></tr>
<tr class="separator:aaeb676a799cda302d4b08106f898a867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbbac80b9d8fd5b3f82fd5bfc919f9bc"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#acbbac80b9d8fd5b3f82fd5bfc919f9bc">prefixes</a></td></tr>
<tr class="memdesc:acbbac80b9d8fd5b3f82fd5bfc919f9bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Valid prefixes.  <a href="#acbbac80b9d8fd5b3f82fd5bfc919f9bc">More...</a><br /></td></tr>
<tr class="separator:acbbac80b9d8fd5b3f82fd5bfc919f9bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29e869380af75e438094960b2e66a898"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#a29e869380af75e438094960b2e66a898">slash_commands_enabled</a></td></tr>
<tr class="memdesc:a29e869380af75e438094960b2e66a898"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set to true automatically if one of the prefixes added is "/".  <a href="#a29e869380af75e438094960b2e66a898">More...</a><br /></td></tr>
<tr class="separator:a29e869380af75e438094960b2e66a898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81203fb77ae98d8cfe81d95bf714fcf0"><td class="memItemLeft" align="right" valign="top">class <a class="el" href="classdpp_1_1cluster.html">cluster</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#a81203fb77ae98d8cfe81d95bf714fcf0">owner</a></td></tr>
<tr class="memdesc:a81203fb77ae98d8cfe81d95bf714fcf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cluster we are attached to for issuing REST calls.  <a href="#a81203fb77ae98d8cfe81d95bf714fcf0">More...</a><br /></td></tr>
<tr class="separator:a81203fb77ae98d8cfe81d95bf714fcf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa77b113d11ae040d9eb32a462bd88a7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacedpp.html#a0dec2a52b080906aebfd3e1b3db02475">snowflake</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdpp_1_1commandhandler.html#aa77b113d11ae040d9eb32a462bd88a7c">app_id</a></td></tr>
<tr class="memdesc:aa77b113d11ae040d9eb32a462bd88a7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Application ID.  <a href="#aa77b113d11ae040d9eb32a462bd88a7c">More...</a><br /></td></tr>
<tr class="separator:aa77b113d11ae040d9eb32a462bd88a7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The commandhandler class represents a group of commands, prefixed or slash commands with handling functions. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7300779eb1aaf04041e48c756abafafb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dpp::commandhandler::commandhandler </td>
          <td>(</td>
          <td class="paramtype">class <a class="el" href="classdpp_1_1cluster.html">cluster</a> *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>auto_hook_events</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedpp.html#a0dec2a52b080906aebfd3e1b3db02475">snowflake</a>&#160;</td>
          <td class="paramname"><em>application_id</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new commandhandler object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">o</td><td>Owning cluster to attach to </td></tr>
    <tr><td class="paramname">auto_hook_events</td><td>Set to true to automatically hook the on_interaction_create and on_message events. Only do this if you have no other use for these events than commands that are handled by the command handler (this is usually the case). </td></tr>
    <tr><td class="paramname">application_id</td><td>The application id of the bot. If not specified, the class will look within the cluster object and use cluster::me::id instead. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a62373f8cdd5b887eb78eb4f4cb265baf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dpp::commandhandler::~commandhandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy the commandhandler object. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a791ed0c75ef77306af84be30ded619f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdpp_1_1commandhandler.html">commandhandler</a> &amp; dpp::commandhandler::add_command </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacedpp.html#a6daf230da747f01eeaa36fd3d5e51a65">parameter_registration_t</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedpp.html#a72a8ab3231965d0e361f305a7fe431f3">command_handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>description</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedpp.html#a0dec2a52b080906aebfd3e1b3db02475">snowflake</a>&#160;</td>
          <td class="paramname"><em>guild_id</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a command to the command handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">command</td><td>Command to be handled. Note that if any one of your prefixes is "/" this will attempt to register a global command using the API and you will receive notification of this command via an interaction event. </td></tr>
    <tr><td class="paramname">handler</td><td>Handler function </td></tr>
    <tr><td class="paramname">parameters</td><td>Parameters to use for the command </td></tr>
    <tr><td class="paramname">description</td><td>The description of the command, shown for slash commands </td></tr>
    <tr><td class="paramname">guild_id</td><td>The guild ID to restrict the command to. For slash commands causes registration of a guild command as opposed to a global command. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>commandhandler&amp; reference to self </dd></dl>

</div>
</div>
<a class="anchor" id="a69ce2bb96adb1a658b3a29c37274f2bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdpp_1_1commandhandler.html">commandhandler</a> &amp; dpp::commandhandler::add_prefix </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a prefix to the command handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prefix</td><td>Prefix to be handled by the command handler </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>commandhandler&amp; reference to self </dd></dl>

</div>
</div>
<a class="anchor" id="aedc9825f681bf31cd7c3f00dfd2b31c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdpp_1_1commandhandler.html">commandhandler</a> &amp; dpp::commandhandler::finish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register all slash commands with Discord This method must be called if you are using the "/" prefix to mark the end of commands being added to the handler. Note that this uses bulk registration and will replace any existing slash commands. </p>
<dl class="section return"><dt>Returns</dt><dd>commandhandler&amp; Reference to self for chaining method calls </dd></dl>

</div>
</div>
<a class="anchor" id="a09893dbf101b7d0082b0a13e801a9db9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dpp::commandhandler::reply </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdpp_1_1message.html">dpp::message</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdpp_1_1command__source.html">command_source</a>&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reply to a command. You should use this method rather than <a class="el" href="classdpp_1_1cluster.html#a080a8cefc6ceb0b882fdb6fe70c078a6" title="Send a message to a channel. The callback function is called when the message has been sent...">cluster::message_create</a> as the way you reply varies between slash commands and message commands. Note you should ALWAYS reply. Slash commands will emit an ugly error to the user if you do not emit some form of reply within 3 seconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>message to reply with. </td></tr>
    <tr><td class="paramname">source</td><td>source of the command </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acecd44c69a7cee36d1d12aa5b0354d0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dpp::commandhandler::route </td>
          <td>(</td>
          <td class="paramtype">const class <a class="el" href="structdpp_1_1message.html">dpp::message</a> &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route a command from the on_message_create function. Call this method from within your on_message_create with the received <a class="el" href="structdpp_1_1message.html" title="Represents messages sent and received on Discord. ">dpp::message</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>message to parse </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0438c6a4b44fe2e5101debe846cf0894"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dpp::commandhandler::route </td>
          <td>(</td>
          <td class="paramtype">const class <a class="el" href="structdpp_1_1interaction__create__t.html">interaction_create_t</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Route a command from the on_interaction_create function. Call this method from your on_interaction_create with the received <a class="el" href="structdpp_1_1interaction__create__t.html" title="Create interaction. ">dpp::interaction_create_t</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event</td><td>command interaction event to parse </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8640d327288a6dd1c5fdbde85726e7de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdpp_1_1commandhandler.html">commandhandler</a> &amp; dpp::commandhandler::set_owner </td>
          <td>(</td>
          <td class="paramtype">class <a class="el" href="classdpp_1_1cluster.html">cluster</a> *&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the application id after construction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">o</td><td>Owning cluster to attach to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a064419ada0fd30cee04faec9f75ba04d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dpp::commandhandler::string_has_prefix </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the string has a known prefix on the start. Modifies string to remove prefix if it returns true. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>String to check and modify </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true string contained a prefix, prefix removed from string </dd>
<dd>
false string did not contain a prefix </dd></dl>

</div>
</div>
<a class="anchor" id="a4ad7a740213d2daf06bf182ba1afc13e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dpp::commandhandler::thinking </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdpp_1_1command__source.html">command_source</a>&#160;</td>
          <td class="paramname"><em>source</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reply to a command without a message, causing the discord client to display "Bot name is thinking...". The "thinking" message will persist for a maximum of 15 minutes. This counts as a reply for a slash command. Slash commands will emit an ugly error to the user if you do not emit some form of reply within 3 seconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>source of the command </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aa77b113d11ae040d9eb32a462bd88a7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedpp.html#a0dec2a52b080906aebfd3e1b3db02475">snowflake</a> dpp::commandhandler::app_id</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Application ID. </p>

</div>
</div>
<a class="anchor" id="aaeb676a799cda302d4b08106f898a867"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;std::string, <a class="el" href="structdpp_1_1command__info__t.html">command_info_t</a>&gt; dpp::commandhandler::commands</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commands in the handler. </p>

</div>
</div>
<a class="anchor" id="a81203fb77ae98d8cfe81d95bf714fcf0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">class <a class="el" href="classdpp_1_1cluster.html">cluster</a>* dpp::commandhandler::owner</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cluster we are attached to for issuing REST calls. </p>

</div>
</div>
<a class="anchor" id="acbbac80b9d8fd5b3f82fd5bfc919f9bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; dpp::commandhandler::prefixes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Valid prefixes. </p>

</div>
</div>
<a class="anchor" id="a29e869380af75e438094960b2e66a898"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dpp::commandhandler::slash_commands_enabled</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set to true automatically if one of the prefixes added is "/". </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedpp.html">dpp</a></li><li class="navelem"><a class="el" href="classdpp_1_1commandhandler.html">commandhandler</a></li>
  </ul>
</div>
</body>
</html>
